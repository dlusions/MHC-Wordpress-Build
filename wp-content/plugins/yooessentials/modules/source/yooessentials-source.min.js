/* Essentials YOOtheme Pro 2.4.12 build 1202.1125; ZOOlanders https://www.zoolanders.com; Copyright (C) Joolanders, SL; http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(b,te,L,v,x,$,p,re,k){"use strict";var ae={name:"SourcesModel",data:()=>{var t;return{providers:((t=v.customizer)==null?void 0:t.source_providers)||{}}},computed:{sources:{get(){return v.helpers.Config.get("source.sources",[])},set(t){v.helpers.Config.$watch("values",()=>{this.rebuildSourcesSchema()},{deep:!0}),v.helpers.Config.set("source.sources",t)}}},methods:{save(t){const e=[...this.sources];if(!this.providers[t.provider])throw Error(`Unknown Provider: ${t.provider}`);return t.id?e[e.findIndex(({id:a})=>a===t.id)]=t:e.push({...t,id:p.uuid(),_meta:{...(t==null?void 0:t._meta)||{},created_at:Date.now(),created_on:v.version}}),this.sources=e,t},remove(t){const e=[...this.sources];e.splice(e.indexOf(t),1),this.sources=e},rebuildSourcesSchema(){b.events.trigger("clearCache",[],!0).then(()=>$("yooessentials/source/rebuild-schema").post({}).json(({schema:t})=>{b.set(x.builder,"schema",t)}))}}};const z="yooessentials/cloudflare",ne={};var X={name:"StreamModel",data:()=>({streams:ne}),watch:{},methods:{fetchStream(t,e={}){return this.streams[t]?Promise.resolve(this.streams[t]):(this.$trigger("yooessentials-prerequest",e),new Promise((r,a)=>{$(`${z}/stream`).post({uid:t,...e}).json(({data:{success:n,errors:i,result:s}})=>{n?r(s):a(i)}).catch(n=>a(n==null?void 0:n.json))}).then(r=>{this.streams[r.uid]=r}))},fetchStreams(t={}){return this.$trigger("yooessentials-prerequest",t),$(`${z}/streams`).post(t).json(e=>(e.forEach(r=>{this.streams[r.uid]=r}),e))}}};function w(t,e,r,a,n,i,s,u){var o=typeof t=="function"?t.options:t;return e&&(o.render=e,o.staticRenderFns=r,o._compiled=!0),{exports:t,options:o}}const ie={name:"SourcesSection",components:{ResourceListItem:k.ResourceListItem},data:()=>({search:""}),computed:{providers(){return v.helpers.Sources.providers},sources(){return v.helpers.Sources.sources.map(t=>{const e=this.providers[t.provider],r=t.name||(e==null?void 0:e.title)||t.provider||this.$t("Unknown"),a=e?"":this.$t("Invalid Source");return{source:t,error:a,title:r,disabled:t.status==="disabled",meta:(e==null?void 0:e.title)||e,icon:e==null?void 0:e.icon,actions:a?["delete"]:["copy","delete"]}})},filtered(){return this.sources.filter(({title:t,source:{provider:e}})=>p.stringIncludes(t,this.search)||p.stringIncludes(e,this.search))}},methods:{isEmpty:re.isEmpty,async add(){const t=await x.uikit.promptModal(k.ResourcePicker,{items:Object.values(this.providers)},{container:!0});t&&this.edit(b.observable({provider:t.name}))},async edit(t){const e=this.providers[t.provider],r=await x.uikit.promptModal(k.ModalForm,{values:t,panel:e});r&&v.helpers.Sources.save(r)},copy({id:t,...e}){e.name=e.name?`${e.name} Copy`:"",v.helpers.Sources.save(p.deepCopy(e))},remove(t){v.helpers.Sources.remove(t)}}};var se=function(){var e=this,r=e._self._c;return r("div",[e.sources.length>10?[r("div",{staticClass:"uk-flex uk-flex-middle"},[r("div",{staticClass:"uk-search uk-search-default uk-flex-1 uk-margin-right"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"search",staticClass:"uk-search-input",attrs:{placeholder:e.$t("Search"),type:"search",autofocus:""},domProps:{value:e.search},on:{input:function(a){a.target.composing||(e.search=a.target.value)}}})]),e._v(" "),r("div",{staticClass:"uk-flex uk-flex-right uk-flex-middle"},[r("button",{staticClass:"uk-button uk-button-default uk-button-small",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),e.add.apply(null,arguments)}}},[e._v(`
                    `+e._s(e.$t("Add"))+`
                `)])])]),e._v(" "),r("hr",{staticClass:"uk-margin-remove"})]:e._e(),e._v(" "),r("div",[r("ul",{staticClass:"uk-nav uk-nav-default yo-sidebar-marginless yo-nav-iconnav uk-margin uk-margin-remove-bottom"},e._l(e.filtered,function({source:a,title:n,icon:i,meta:s,error:u,actions:o,disabled:c}){return r("ResourceListItem",{key:a.id,attrs:{title:n,icon:i,meta:s,actions:o,error:u,disabled:c,editable:!u},on:{edit:function(f){return e.edit(a)},copy:function(f){return e.copy(a)},delete:function(f){return e.remove(a)}},scopedSlots:e._u([u?{key:"icon",fn:function(){return[r("span",{staticClass:"uk-margin-small-right",attrs:{"uk-icon":"question",ratio:"1.2"}})]},proxy:!0}:null],null,!0)})}),1),e._v(" "),e.search&&e.isEmpty(e.filtered)?r("div",{staticClass:"uk-text-muted uk-margin"},[e._v(`
            `+e._s(e.$t("No Sources Found."))+`
        `)]):e._e()]),e._v(" "),r("button",{staticClass:"uk-button uk-button-default uk-width-1-1",class:{"uk-margin-medium-top":!e.isEmpty(e.sources)},attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),e.add.apply(null,arguments)}}},[e._v(`
        `+e._s(e.$t("Add Source"))+`
    `)]),e._v(" "),r("p",{staticClass:"uk-text-muted"},[e._v(`
        `+e._s(e.$t("Add a new source instance that will become part of the Dynamic Content workflow."))+`
    `)])],2)},oe=[],ue=w(ie,se,oe),le=ue.exports;function N(t){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(t)}function g(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function d(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function l(t){d(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||N(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ce(t,e){d(2,arguments);var r=l(t),a=g(e);return isNaN(a)?new Date(NaN):(a&&r.setDate(r.getDate()+a),r)}function de(t,e){d(2,arguments);var r=l(t),a=g(e);if(isNaN(a))return new Date(NaN);if(!a)return r;var n=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+a+1,0);var s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}function M(t,e){if(d(2,arguments),!e||N(e)!=="object")return new Date(NaN);var r=e.years?g(e.years):0,a=e.months?g(e.months):0,n=e.weeks?g(e.weeks):0,i=e.days?g(e.days):0,s=e.hours?g(e.hours):0,u=e.minutes?g(e.minutes):0,o=e.seconds?g(e.seconds):0,c=l(t),f=a||r?de(c,a+r*12):c,m=i||n?ce(f,i+n*7):f,j=u+s*60,h=o+j*60,_=h*1e3,U=new Date(m.getTime()+_);return U}var P=6e4,I=36e5;function fe(t,e){var r;d(1,arguments);var a=g((r=void 0)!==null&&r!==void 0?r:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var n=ge(t),i;if(n.date){var s=pe(n.date,a);i=ke(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var u=i.getTime(),o=0,c;if(n.time&&(o=_e(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(c=be(n.timezone),isNaN(c))return new Date(NaN)}else{var f=new Date(u+o),m=new Date(0);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return new Date(u+o+c)}var T={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},me=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,he=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ge(t){var e={},r=t.split(T.dateTimeDelimiter),a;if(r.length>2)return e;if(/:/.test(r[0])?a=r[0]:(e.date=r[0],a=r[1],T.timeZoneDelimiter.test(e.date)&&(e.date=t.split(T.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){var n=T.timezone.exec(a);n?(e.time=a.replace(n[1],""),e.timezone=n[1]):e.time=a}return e}function pe(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(r);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?n:i*100,restDateString:t.slice((a[1]||a[2]).length)}}function ke(t,e){if(e===null)return new Date(NaN);var r=t.match(me);if(!r)return new Date(NaN);var a=!!r[4],n=D(r[1]),i=D(r[2])-1,s=D(r[3]),u=D(r[4]),o=D(r[5])-1;if(a)return Se(e,u,o)?ye(e,u,o):new Date(NaN);var c=new Date(0);return!Me(e,i,s)||!De(e,n)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(n,s)),c)}function D(t){return t?parseInt(t):1}function _e(t){var e=t.match(he);if(!e)return NaN;var r=O(e[1]),a=O(e[2]),n=O(e[3]);return Ce(r,a,n)?r*I+a*P+n*1e3:NaN}function O(t){return t&&parseFloat(t.replace(",","."))||0}function be(t){if(t==="Z")return 0;var e=t.match(ve);if(!e)return 0;var r=e[1]==="+"?-1:1,a=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return xe(a,n)?r*(a*I+n*P):NaN}function ye(t,e,r){var a=new Date(0);a.setUTCFullYear(t,0,4);var n=a.getUTCDay()||7,i=(e-1)*7+r+1-n;return a.setUTCDate(a.getUTCDate()+i),a}var we=[31,null,31,30,31,30,31,31,30,31,30,31];function q(t){return t%400===0||t%4===0&&t%100!==0}function Me(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(we[e]||(q(t)?29:28))}function De(t,e){return e>=1&&e<=(q(t)?366:365)}function Se(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Ce(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function xe(t,e){return e>=0&&e<=59}function y(t,e){d(2,arguments);var r=l(t),a=l(e),n=r.getTime()-a.getTime();return n<0?-1:n>0?1:n}function F(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function H(t){d(1,arguments);var e=l(t);return e.setHours(0,0,0,0),e}var Ne=864e5;function Te(t,e){d(2,arguments);var r=H(t),a=H(e),n=r.getTime()-F(r),i=a.getTime()-F(a);return Math.round((n-i)/Ne)}function J(t,e){var r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Fe(t,e){d(2,arguments);var r=l(t),a=l(e),n=J(r,a),i=Math.abs(Te(r,a));r.setDate(r.getDate()-n*i);var s=+(J(r,a)===-n),u=n*(i-s);return u===0?0:u}function W(t,e){return d(2,arguments),l(t).getTime()-l(e).getTime()}var $e={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Pe="trunc";function R(t){return $e[Pe]}function Ie(t,e,r){d(2,arguments);var a=W(t,e)/I;return R()(a)}function Oe(t,e,r){d(2,arguments);var a=W(t,e)/P;return R()(a)}function We(t,e){d(2,arguments);var r=l(t),a=l(e),n=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return n*12+i}function Re(t){d(1,arguments);var e=l(t);return e.setHours(23,59,59,999),e}function Ye(t){d(1,arguments);var e=l(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Ae(t){d(1,arguments);var e=l(t);return Re(e).getTime()===Ye(e).getTime()}function B(t,e){d(2,arguments);var r=l(t),a=l(e),n=y(r,a),i=Math.abs(We(r,a)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*i);var u=y(r,a)===-n;Ae(l(t))&&i===1&&y(t,a)===1&&(u=!1),s=n*(i-Number(u))}return s===0?0:s}function V(t,e,r){d(2,arguments);var a=W(t,e)/1e3;return R()(a)}function je(t,e){d(2,arguments);var r=l(t),a=l(e);return r.getFullYear()-a.getFullYear()}function Ue(t,e){d(2,arguments);var r=l(t),a=l(e),n=y(r,a),i=Math.abs(je(r,a));r.setFullYear(1584),a.setFullYear(1584);var s=y(r,a)===-n,u=n*(i-Number(s));return u===0?0:u}function Ee(t){d(1,arguments);var e=l(t.start),r=l(t.end);if(isNaN(e.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(r.getTime()))throw new RangeError("End Date is invalid");var a={};a.years=Math.abs(Ue(r,e));var n=y(r,e),i=M(e,{years:n*a.years});a.months=Math.abs(B(r,i));var s=M(i,{months:n*a.months});a.days=Math.abs(Fe(r,s));var u=M(s,{days:n*a.days});a.hours=Math.abs(Ie(r,u));var o=M(u,{hours:n*a.hours});a.minutes=Math.abs(Oe(r,o));var c=M(o,{minutes:n*a.minutes});return a.seconds=Math.abs(V(r,c)),a}var Le={};function ze(){return Le}var Xe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qe=function(e,r,a){var n,i=Xe[e];return typeof i=="string"?n=i:r===1?n=i.one:n=i.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function Y(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,a=t.formats[r]||t.formats[t.defaultWidth];return a}}var He={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Je={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Be={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ve={date:Y({formats:He,defaultWidth:"full"}),time:Y({formats:Je,defaultWidth:"full"}),dateTime:Y({formats:Be,defaultWidth:"full"})},Qe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ze=function(e,r,a,n){return Qe[e]};function S(t){return function(e,r){var a=r!=null&&r.context?String(r.context):"standalone",n;if(a==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):i;n=t.formattingValues[s]||t.formattingValues[i]}else{var u=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;n=t.values[o]||t.values[u]}var c=t.argumentCallback?t.argumentCallback(e):e;return n[c]}}var Ke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},et={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},at={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nt=function(e,r){var a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},it={ordinalNumber:nt,era:S({values:Ke,defaultWidth:"wide"}),quarter:S({values:Ge,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:S({values:et,defaultWidth:"wide"}),day:S({values:tt,defaultWidth:"wide"}),dayPeriod:S({values:rt,defaultWidth:"wide",formattingValues:at,defaultFormattingWidth:"wide"})};function C(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.width,n=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(n);if(!i)return null;var s=i[0],u=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(u)?ot(u,function(m){return m.test(s)}):st(u,function(m){return m.test(s)}),c;c=t.valueCallback?t.valueCallback(o):o,c=r.valueCallback?r.valueCallback(c):c;var f=e.slice(s.length);return{value:c,rest:f}}}function st(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function ot(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function ut(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.match(t.matchPattern);if(!a)return null;var n=a[0],i=e.match(t.parsePattern);if(!i)return null;var s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var u=e.slice(n.length);return{value:s,rest:u}}}var lt=/^(\d+)(th|st|nd|rd)?/i,ct=/\d+/i,dt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ft={any:[/^b/i,/^(a|c)/i]},mt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ht={any:[/1/i,/2/i,/3/i,/4/i]},vt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_t={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yt={ordinalNumber:ut({matchPattern:lt,parsePattern:ct,valueCallback:function(e){return parseInt(e,10)}}),era:C({matchPatterns:dt,defaultMatchWidth:"wide",parsePatterns:ft,defaultParseWidth:"any"}),quarter:C({matchPatterns:mt,defaultMatchWidth:"wide",parsePatterns:ht,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:C({matchPatterns:vt,defaultMatchWidth:"wide",parsePatterns:gt,defaultParseWidth:"any"}),day:C({matchPatterns:pt,defaultMatchWidth:"wide",parsePatterns:kt,defaultParseWidth:"any"}),dayPeriod:C({matchPatterns:_t,defaultMatchWidth:"any",parsePatterns:bt,defaultParseWidth:"any"})},wt={code:"en-US",formatDistance:qe,formatLong:Ve,formatRelative:Ze,localize:it,match:yt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Mt(t){return Q({},t)}var Z=1440,Dt=2520,A=43200,St=86400;function Ct(t,e,r){var a,n;d(2,arguments);var i=ze(),s=(a=(n=r==null?void 0:r.locale)!==null&&n!==void 0?n:i.locale)!==null&&a!==void 0?a:wt;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=y(t,e);if(isNaN(u))throw new RangeError("Invalid time value");var o=Q(Mt(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:u}),c,f;u>0?(c=l(e),f=l(t)):(c=l(t),f=l(e));var m=V(f,c),j=(F(f)-F(c))/1e3,h=Math.round((m-j)/60),_;if(h<2)return r!=null&&r.includeSeconds?m<5?s.formatDistance("lessThanXSeconds",5,o):m<10?s.formatDistance("lessThanXSeconds",10,o):m<20?s.formatDistance("lessThanXSeconds",20,o):m<40?s.formatDistance("halfAMinute",0,o):m<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):h===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",h,o);if(h<45)return s.formatDistance("xMinutes",h,o);if(h<90)return s.formatDistance("aboutXHours",1,o);if(h<Z){var U=Math.round(h/60);return s.formatDistance("aboutXHours",U,o)}else{if(h<Dt)return s.formatDistance("xDays",1,o);if(h<A){var er=Math.round(h/Z);return s.formatDistance("xDays",er,o)}else if(h<St)return _=Math.round(h/A),s.formatDistance("aboutXMonths",_,o)}if(_=B(f,c),_<12){var tr=Math.round(h/A);return s.formatDistance("xMonths",tr,o)}else{var ee=_%12,E=Math.floor(_/12);return ee<3?s.formatDistance("aboutXYears",E,o):ee<9?s.formatDistance("overXYears",E,o):s.formatDistance("almostXYears",E+1,o)}}function xt(t,e){return d(1,arguments),Ct(t,Date.now(),e)}const Nt={filters:{status(t){const e={inprogress:b.i18n.t("In Progress"),ready:b.i18n.t("Ready")};return e[t==null?void 0:t.status]||e.ready},date(t){return xt(fe(t),{addSuffix:!0})},duration(t){const e=new Date,r={hours:"y",minutes:"m",seconds:"s"},a=Ee({start:e,end:M(e,{seconds:t})});return Object.keys(a).reduce((n,i)=>a[i]?[...n,`${a[i]}${r[i]}`]:n,[]).join(" ")},size(t){const e=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,e)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][e]}},inject:["Finder"]};var Tt=function(){var e=this,r=e._self._c;return r("table",{staticClass:"uk-table uk-table-divider uk-table-hover uk-table-middle"},[r("thead",[r("tr",[r("th",{staticClass:"uk-table-shrink"},[r("input",{staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:e.Finder.selectedAll},on:{change:function(a){return e.Finder.toggleSelectAll()}}})]),e._v(" "),r("th",{attrs:{colspan:"2"}},[e._v(e._s(e.$t("Video")))]),e._v(" "),r("th",{staticClass:"uk-table-shrink"},[e._v(e._s(e.$t("Status")))]),e._v(" "),r("th",{staticClass:"uk-table-shrink"},[e._v(e._s(e.$t("Duration")))]),e._v(" "),r("th",{staticClass:"uk-table-shrink"},[e._v(e._s(e.$t("Created")))])])]),e._v(" "),r("tbody",e._l(e.Finder.items,function(a){return r("tr",{key:a.id,staticClass:"uk-visible-hover",class:{"uk-active":e.Finder.isSelected(a)},on:{click:function(n){return e.Finder.toggleSelect(a)}}},[r("td",[r("input",{staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:e.Finder.isSelected(a)}})]),e._v(" "),r("td",{staticClass:"uk-table-shrink uk-text-center"},[r("span",{staticClass:"yo-finder-list-image uk-icon-image",attrs:{"uk-icon":a.requireSignedURLs?"lock":"unlock","uk-tooltip":e.$t(a.requireSignedURLs?"Private":"Public")}})]),e._v(" "),r("td",{staticClass:"uk-table-expand uk-text-nowrap"},[e._v(`
                `+e._s(a.meta.name)+`
            `)]),e._v(" "),r("td",{staticClass:"uk-text-nowrap"},[e._v(`
                `+e._s(e._f("status")(a))+`
            `)]),e._v(" "),r("td",{staticClass:"uk-text-nowrap"},[e._v(`
                `+e._s(e._f("duration")(a.duration))+`
            `)]),e._v(" "),r("td",{staticClass:"uk-text-nowrap"},[e._v(`
                `+e._s(e._f("date")(a.created))+`
            `)])])}),0)])},Ft=[],$t=w(Nt,Tt,Ft),Pt=$t.exports;const It={inject:["Finder"]};var Ot=function(){var e=this,r=e._self._c;return r("ul",{staticClass:"uk-grid-medium uk-grid-match uk-child-width-1-2@s uk-child-width-1-3@l uk-child-width-1-4@xl",attrs:{"uk-grid":""}},e._l(e.Finder.items,function(a){return r("li",{key:a.id},[r("div",{staticClass:"uk-card uk-card-default uk-card-small",on:{click:function(n){return e.Finder.toggleSelect(a)}}},[r("div",{staticClass:"uk-card-media-top uk-position-relative"},[r("a",{staticClass:"uk-background-contain uk-position-cover",attrs:{"data-src":e.$url(a.thumbnail),"uk-img":"",href:a.preview,target:"_blank"}}),e._v(" "),r("canvas",{attrs:{width:"1920",height:"1080"}})]),e._v(" "),r("div",{staticClass:"uk-card-body uk-text-center uk-text-truncate uk-text-nowrap"},[r("input",{staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:e.Finder.isSelected(a)}}),e._v(`
                `+e._s(a.meta.name)+`
            `)])])])}),0)},Wt=[],Rt=w(It,Ot,Wt),Yt=Rt.exports;const K="yooessentials.stream-finder.view",At={name:"CloudflareStreamFinder",components:{List:Pt,Finder:k.Finder,Thumbnail:Yt},provide(){return{Finder:this}},props:{items:k.Finder.props.items,selected:k.Finder.props.selected},data:()=>({view:p.storage[K]||"list",filter:{search:""}}),computed:{selectedAll:k.Finder.computed.selectedAll},watch:{view(t){p.storage[K]=t}},methods:k.Finder.methods};var jt=function(){var e=this,r=e._self._c;return r("Finder",{attrs:{"item-name":"Video",items:e.items,filter:e.filter,selected:e.selected},on:{"update:filter":function(a){e.filter=a},"update:selected":function(a){e.selected=a}},scopedSlots:e._u([{key:"right",fn:function(){return[r("ul",{staticClass:"uk-grid-small uk-child-width-auto",attrs:{"uk-grid":""}},[r("li",{class:{"uk-active":e.view==="list"}},[r("a",{staticClass:"uk-icon-link",attrs:{href:"",title:e.$t("List"),"uk-icon":"table","uk-tooltip":"delay: 500"},on:{click:function(a){a.preventDefault(),e.view="list"}}})]),e._v(" "),r("li",{class:{"uk-active":e.view==="thumbnail"}},[r("a",{staticClass:"uk-icon-link",attrs:{href:"",title:e.$t("Thumbnails"),"uk-icon":"thumbnails","uk-tooltip":"delay: 500"},on:{click:function(a){a.preventDefault(),e.view="thumbnail"}}})])])]},proxy:!0},{key:"items",fn:function(){return[r(e.view,{tag:"component"})]},proxy:!0}])})},Ut=[],Et=w(At,jt,Ut),Lt=Et.exports;const zt={name:"CloudflareStreamPicker",components:{CloudflareStreamFinder:Lt},models:{Stream:X},props:{sourceId:{type:String,required:!0}},data:()=>({items:[],selected:[],message:""}),created(){this.Stream.fetchStreams({sourceId:this.sourceId}).then(t=>{this.items=t.map(({uid:e,...r})=>({id:e,...r}))}).catch(t=>this.message=t.statusText)},methods:{select(){this.$emit("resolve",this.Stream.streams[this.selected[0]])}}};var Xt=function(){var e=this,r=e._self._c;return r("div",[r("div",{staticClass:"uk-modal-body"},[r("CloudflareStreamFinder",{ref:"finder",attrs:{items:e.items,selected:e.selected},on:{"update:selected":function(a){e.selected=a}}})],1),e._v(" "),r("div",{staticClass:"uk-modal-footer uk-flex uk-flex-middle uk-flex-between"},[r("div",{staticClass:"uk-text-danger"},[e._v(e._s(e.message))]),e._v(" "),r("div",{staticClass:"uk-text-nowrap"},[r("button",{staticClass:"uk-button uk-button-text uk-modal-close uk-margin-right",attrs:{type:"button"}},[e._v(`
                `+e._s(e.$t("Cancel"))+`
            `)]),e._v(" "),r("button",{staticClass:"uk-button uk-button-primary",attrs:{disabled:e.selected.length!==1,type:"button"},on:{click:function(a){return a.preventDefault(),e.select.apply(null,arguments)}}},[e._v(`
                `+e._s(e.$t("Select"))+`
            `)])])])])},qt=[],Ht=w(zt,Xt,qt),Jt=Ht.exports;const G="yooessentials.cloudflare-stream.field",Bt={name:"CloudflareStream",filters:{name(t){var e;return((e=t==null?void 0:t.meta)==null?void 0:e.name)||t.uid}},extends:L.components.FieldText,models:{Stream:X},computed:{stream(){try{return this.value&&this.Stream.streams[this.value]||JSON.parse(p.storage[G])}catch(t){console.error(t)}return null}},methods:{async open(){const t=await x.uikit.promptModal(Jt,{sourceId:this.field.sourceId},{container:!0});t&&(this.value=t.uid,p.storage[G]=JSON.stringify(t))}}};var Vt=function(){var e=this,r=e._self._c;return r("div",[e.value?e.stream?r("div",{staticClass:"uk-position-relative uk-transition-toggle uk-text-center yo-thumbnail",attrs:{tabindex:"0"}},[e.stream.requireSignedURLs?[r("span",{staticClass:"uk-placeholder uk-text-center uk-display-block uk-margin-remove"},[r("svg",{staticClass:"uk-svg",attrs:{width:"30",height:"30",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"}},[r("polygon",{attrs:{fill:"none",stroke:"#444","stroke-width":"2",points:"12,10.5 20,15.1 12,19.5"}}),e._v(" "),r("rect",{attrs:{x:"1",y:"4",fill:"none",stroke:"#444","stroke-width":"2",width:"28",height:"22"}})]),e._v(" "),r("p",{staticClass:"uk-h6 uk-margin-small-top"},[e._v(e._s(e.$t("Private Video")))])])]:r("img",{attrs:{src:e.$url({url:e.stream.thumbnail})}}),e._v(" "),r("div",{staticClass:"uk-transition-fade uk-position-cover yo-thumbnail-overlay"}),e._v(" "),r("a",{staticClass:"uk-position-cover",attrs:{href:""},on:{click:function(a){return a.preventDefault(),e.open.apply(null,arguments)}}}),e._v(" "),r("div",{staticClass:"uk-transition-fade uk-position-top-right yo-thumbnail-badge uk-light"},[r("a",{staticClass:"uk-icon-link",attrs:{href:"",title:e.$t("Delete"),"uk-icon":"trash","uk-tooltip":"delay: 500"},on:{click:function(a){a.preventDefault(),e.value=""}}})])],2):e._e():r("a",{staticClass:"uk-placeholder uk-text-center uk-display-block uk-margin-remove",class:{"uk-disabled uk-text-muted":e.attributes.disabled},attrs:{href:""},on:{click:function(a){return a.preventDefault(),e.open.apply(null,arguments)}}},[r("svg",{staticClass:"uk-svg",attrs:{width:"30",height:"30",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"}},[r("polygon",{attrs:{fill:"none",stroke:"#444","stroke-width":"2",points:"12,10.5 20,15.1 12,19.5"}}),e._v(" "),r("rect",{attrs:{x:"1",y:"4",fill:"none",stroke:"#444","stroke-width":"2",width:"28",height:"22"}})]),e._v(" "),r("p",{staticClass:"uk-h6 uk-margin-small-top"},[e._v(e._s(e.$t("Select Video")))])]),e._v(" "),r("div",{staticClass:"uk-margin-small-top"},[r("a",{class:[e.attributes.class,"uk-input"],attrs:{href:""},on:{click:function(a){return a.preventDefault(),e.open()}}},[e.stream?[e._v(`
                `+e._s(e._f("name")(e.stream))+`
            `)]:[e._v(`
                `+e._s(e.value)+`
            `)]],2)])])},Qt=[],Zt=w(Bt,Vt,Qt),Kt=Zt.exports,Gt=Object.freeze({__proto__:null,FieldYooessentialsCloudflareStream:Kt});b.component("yooessentials-sources",le),Object.assign(L.components,Gt),te.after("app.init",()=>{v.helpers.Sources=new b(ae)})})(Vue,yootheme.hooks,yootheme.fields,yooessentials,yootheme,yootheme.http,yooessentials.util,UIkit.util,yooessentials.components);
