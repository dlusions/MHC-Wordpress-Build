/* Essentials YOOtheme Pro 2.4.12 build 1202.1125; ZOOlanders https://www.zoolanders.com; Copyright (C) Joolanders, SL; http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(a,i,u,p){"use strict";function d(e,t,n,o,s,r,l,j){var c=typeof e=="function"?e.options:e;return t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),{exports:e,options:c}}const f={name:"AccessCondition",extends:a.components.FieldYooessentialsConditionRules,computed:{logs:{get(){const{access:e}=(i==null?void 0:i.logs)||{},t=i.yoo.Builder.id(this.$node);return e==null?void 0:e[t]},cache:!1}}};var _=d(f,null,null),m=_.exports,h=Object.freeze({__proto__:null,FieldYooessentialsAccessCondition:m});const y={name:"AccessIcon",inject:["Sidebar","Builder"],props:{node:{type:Object,required:!0},error:{type:[String,Boolean],default:""},tooltipDirection:{type:String,default:"bottom"}},data:()=>({status:null}),computed:{linked(){const{node:e,type:t}=this.node;return!(e.type==="row"||t.element&&t.container)},icon(){let e="ye-builder-icon-access";return(this.status===!1||this.error)&&(e+="-denied"),e},title(){return this.error?this.error:this.linked?"Restricted Access":""}},mounted(){this.setStatus(window.$yooesslogs||{})},methods:{edit(){const e=p.customizer.panels["yooessentials-access-condition"];if(!e)throw new Error("Condition Panel Not Found");this.$trigger("openDynamicPanel",{...e,width:450,props:{node:this.node.node,builder:this.Builder,values:this.node.node.props}})},setStatus({access:e}){var n;const t=this.Builder.id(this.node.node);this.status=(n=e==null?void 0:e[t])==null?void 0:n.result}},events:{readyPreview:{handler(e,{window:{$yooesslogs:t={}}}){this.setStatus(t)},priority:50}}};var v=function(){var t=this,n=t._self._c;return t.linked?n("a",{class:t.icon,attrs:{href:"#",title:t.$t(t.title),"uk-tooltip":`delay: 1000; pos: ${t.tooltipDirection}`},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),t.edit.apply(null,arguments)}}}):n("span",{class:t.icon,attrs:{title:t.$t(t.title),"uk-tooltip":`delay: 1000; pos: ${t.tooltipDirection}`}})},g=[],$=d(y,v,g),w=$.exports;const b={"empty-rules":"Contains empty rules"};u.events.on("statusIconsNode",({origin:e,result:t=[]})=>{const{node:n}=e;return C(e)?[...t,{component:w,error:b[I(n)]}]:t});function C(e){const t=[e.node];return(e.type.element&&e.type.container||e.type.name==="row")&&t.push(...e.children),t.some(n=>{var o,s;return((s=(o=n==null?void 0:n.props)==null?void 0:o.yooessentials_access_conditions)!=null?s:[]).length})}function I(e){var o,s;const t=(s=(o=e==null?void 0:e.props)==null?void 0:o.yooessentials_access_conditions)!=null?s:[],n=r=>{var l;return Object.values((l=r==null?void 0:r.props)!=null?l:{}).filter(Boolean).length===0};return t.some(n)?"empty-rules":!1}Object.assign(a.components,h)})(yootheme.fields,yooessentials,Vue,yootheme);
