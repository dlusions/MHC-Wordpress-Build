/* Essentials YOOtheme Pro 2.4.12 build 1202.1125; ZOOlanders https://www.zoolanders.com; Copyright (C) Joolanders, SL; http://www.gnu.org/licenses/gpl.html GNU/GPL */

var pc=Object.defineProperty;var hc=(c,A,h)=>A in c?pc(c,A,{enumerable:!0,configurable:!0,writable:!0,value:h}):c[A]=h;var C=(c,A,h)=>hc(c,typeof A!="symbol"?A+"":A,h);(function(c,A,h,Y,q,g,v,_,De,d,ge){"use strict";function qr(){this.__data__=[],this.size=0}function se(t,e){return t===e||t!==t&&e!==e}function ye(t,e){for(var r=t.length;r--;)if(se(t[r][0],e))return r;return-1}var Ar=Array.prototype,Dr=Ar.splice;function Ir(t){var e=this.__data__,r=ye(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():Dr.call(e,r,1),--this.size,!0}function Qr(t){var e=this.__data__,r=ye(e,t);return r<0?void 0:e[r][1]}function jr(t){return ye(this.__data__,t)>-1}function Rr(t,e){var r=this.__data__,s=ye(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this}function G(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}G.prototype.clear=qr,G.prototype.delete=Ir,G.prototype.get=Qr,G.prototype.has=jr,G.prototype.set=Rr;function Nr(){this.__data__=new G,this.size=0}function Lr(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Mr(t){return this.__data__.get(t)}function Gr(t){return this.__data__.has(t)}var ht=typeof global=="object"&&global&&global.Object===Object&&global,Br=typeof self=="object"&&self&&self.Object===Object&&self,R=ht||Br||Function("return this")(),W=R.Symbol,mt=Object.prototype,Hr=mt.hasOwnProperty,Wr=mt.toString,ne=W?W.toStringTag:void 0;function zr(t){var e=Hr.call(t,ne),r=t[ne];try{t[ne]=void 0;var s=!0}catch{}var n=Wr.call(t);return s&&(e?t[ne]=r:delete t[ne]),n}var Kr=Object.prototype,Yr=Kr.toString;function Xr(t){return Yr.call(t)}var Zr="[object Null]",Jr="[object Undefined]",gt=W?W.toStringTag:void 0;function X(t){return t==null?t===void 0?Jr:Zr:gt&&gt in Object(t)?zr(t):Xr(t)}function N(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ur="[object AsyncFunction]",Vr="[object Function]",es="[object GeneratorFunction]",ts="[object Proxy]";function Ie(t){if(!N(t))return!1;var e=X(t);return e==Vr||e==es||e==Ur||e==ts}var Qe=R["__core-js_shared__"],yt=function(){var t=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function rs(t){return!!yt&&yt in t}var ss=Function.prototype,ns=ss.toString;function Z(t){if(t!=null){try{return ns.call(t)}catch{}try{return t+""}catch{}}return""}var is=/[\\^$.*+?()[\]{}|]/g,os=/^\[object .+?Constructor\]$/,as=Function.prototype,ls=Object.prototype,us=as.toString,cs=ls.hasOwnProperty,ds=RegExp("^"+us.call(cs).replace(is,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fs(t){if(!N(t)||rs(t))return!1;var e=Ie(t)?ds:os;return e.test(Z(t))}function ps(t,e){return t==null?void 0:t[e]}function J(t,e){var r=ps(t,e);return fs(r)?r:void 0}var ie=J(R,"Map"),oe=J(Object,"create");function hs(){this.__data__=oe?oe(null):{},this.size=0}function ms(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gs="__lodash_hash_undefined__",ys=Object.prototype,vs=ys.hasOwnProperty;function _s(t){var e=this.__data__;if(oe){var r=e[t];return r===gs?void 0:r}return vs.call(e,t)?e[t]:void 0}var bs=Object.prototype,ws=bs.hasOwnProperty;function $s(t){var e=this.__data__;return oe?e[t]!==void 0:ws.call(e,t)}var xs="__lodash_hash_undefined__";function ks(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=oe&&e===void 0?xs:e,this}function U(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}U.prototype.clear=hs,U.prototype.delete=ms,U.prototype.get=_s,U.prototype.has=$s,U.prototype.set=ks;function Ss(){this.size=0,this.__data__={hash:new U,map:new(ie||G),string:new U}}function Fs(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ve(t,e){var r=t.__data__;return Fs(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Os(t){var e=ve(this,t).delete(t);return this.size-=e?1:0,e}function Ts(t){return ve(this,t).get(t)}function Cs(t){return ve(this,t).has(t)}function Ps(t,e){var r=ve(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this}function B(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}B.prototype.clear=Ss,B.prototype.delete=Os,B.prototype.get=Ts,B.prototype.has=Cs,B.prototype.set=Ps;var Es=200;function qs(t,e){var r=this.__data__;if(r instanceof G){var s=r.__data__;if(!ie||s.length<Es-1)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new B(s)}return r.set(t,e),this.size=r.size,this}function L(t){var e=this.__data__=new G(t);this.size=e.size}L.prototype.clear=Nr,L.prototype.delete=Lr,L.prototype.get=Mr,L.prototype.has=Gr,L.prototype.set=qs;var As="__lodash_hash_undefined__";function Ds(t){return this.__data__.set(t,As),this}function Is(t){return this.__data__.has(t)}function _e(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new B;++e<r;)this.add(t[e])}_e.prototype.add=_e.prototype.push=Ds,_e.prototype.has=Is;function Qs(t,e){for(var r=-1,s=t==null?0:t.length;++r<s;)if(e(t[r],r,t))return!0;return!1}function js(t,e){return t.has(e)}var Rs=1,Ns=2;function vt(t,e,r,s,n,i){var o=r&Rs,l=t.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var u=i.get(t),f=i.get(e);if(u&&f)return u==e&&f==t;var p=-1,m=!0,O=r&Ns?new _e:void 0;for(i.set(t,e),i.set(e,t);++p<l;){var b=t[p],w=e[p];if(s)var T=o?s(w,b,p,e,t,i):s(b,w,p,t,e,i);if(T!==void 0){if(T)continue;m=!1;break}if(O){if(!Qs(e,function(E,j){if(!js(O,j)&&(b===E||n(b,E,r,s,i)))return O.push(j)})){m=!1;break}}else if(!(b===w||n(b,w,r,s,i))){m=!1;break}}return i.delete(t),i.delete(e),m}var be=R.Uint8Array;function Ls(t){var e=-1,r=Array(t.size);return t.forEach(function(s,n){r[++e]=[n,s]}),r}function Ms(t){var e=-1,r=Array(t.size);return t.forEach(function(s){r[++e]=s}),r}var Gs=1,Bs=2,Hs="[object Boolean]",Ws="[object Date]",zs="[object Error]",Ks="[object Map]",Ys="[object Number]",Xs="[object RegExp]",Zs="[object Set]",Js="[object String]",Us="[object Symbol]",Vs="[object ArrayBuffer]",en="[object DataView]",_t=W?W.prototype:void 0,je=_t?_t.valueOf:void 0;function tn(t,e,r,s,n,i,o){switch(r){case en:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Vs:return!(t.byteLength!=e.byteLength||!i(new be(t),new be(e)));case Hs:case Ws:case Ys:return se(+t,+e);case zs:return t.name==e.name&&t.message==e.message;case Xs:case Js:return t==e+"";case Ks:var l=Ls;case Zs:var a=s&Gs;if(l||(l=Ms),t.size!=e.size&&!a)return!1;var u=o.get(t);if(u)return u==e;s|=Bs,o.set(t,e);var f=vt(l(t),l(e),s,n,i,o);return o.delete(t),f;case Us:if(je)return je.call(t)==je.call(e)}return!1}function rn(t,e){for(var r=-1,s=e.length,n=t.length;++r<s;)t[n+r]=e[r];return t}var I=Array.isArray;function sn(t,e,r){var s=e(t);return I(t)?s:rn(s,r(t))}function nn(t,e){for(var r=-1,s=t==null?0:t.length,n=0,i=[];++r<s;){var o=t[r];e(o,r,t)&&(i[n++]=o)}return i}function on(){return[]}var an=Object.prototype,ln=an.propertyIsEnumerable,bt=Object.getOwnPropertySymbols,un=bt?function(t){return t==null?[]:(t=Object(t),nn(bt(t),function(e){return ln.call(t,e)}))}:on;function cn(t,e){for(var r=-1,s=Array(t);++r<t;)s[r]=e(r);return s}function z(t){return t!=null&&typeof t=="object"}var dn="[object Arguments]";function wt(t){return z(t)&&X(t)==dn}var $t=Object.prototype,fn=$t.hasOwnProperty,pn=$t.propertyIsEnumerable,ae=wt(function(){return arguments}())?wt:function(t){return z(t)&&fn.call(t,"callee")&&!pn.call(t,"callee")};function hn(){return!1}var xt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kt=xt&&typeof module=="object"&&module&&!module.nodeType&&module,mn=kt&&kt.exports===xt,St=mn?R.Buffer:void 0,gn=St?St.isBuffer:void 0,le=gn||hn,yn=9007199254740991,vn=/^(?:0|[1-9]\d*)$/;function Re(t,e){var r=typeof t;return e=e==null?yn:e,!!e&&(r=="number"||r!="symbol"&&vn.test(t))&&t>-1&&t%1==0&&t<e}var _n=9007199254740991;function Ne(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_n}var bn="[object Arguments]",wn="[object Array]",$n="[object Boolean]",xn="[object Date]",kn="[object Error]",Sn="[object Function]",Fn="[object Map]",On="[object Number]",Tn="[object Object]",Cn="[object RegExp]",Pn="[object Set]",En="[object String]",qn="[object WeakMap]",An="[object ArrayBuffer]",Dn="[object DataView]",In="[object Float32Array]",Qn="[object Float64Array]",jn="[object Int8Array]",Rn="[object Int16Array]",Nn="[object Int32Array]",Ln="[object Uint8Array]",Mn="[object Uint8ClampedArray]",Gn="[object Uint16Array]",Bn="[object Uint32Array]",S={};S[In]=S[Qn]=S[jn]=S[Rn]=S[Nn]=S[Ln]=S[Mn]=S[Gn]=S[Bn]=!0,S[bn]=S[wn]=S[An]=S[$n]=S[Dn]=S[xn]=S[kn]=S[Sn]=S[Fn]=S[On]=S[Tn]=S[Cn]=S[Pn]=S[En]=S[qn]=!1;function Hn(t){return z(t)&&Ne(t.length)&&!!S[X(t)]}function Wn(t){return function(e){return t(e)}}var Ft=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ue=Ft&&typeof module=="object"&&module&&!module.nodeType&&module,zn=ue&&ue.exports===Ft,Le=zn&&ht.process,Ot=function(){try{var t=ue&&ue.require&&ue.require("util").types;return t||Le&&Le.binding&&Le.binding("util")}catch{}}(),Tt=Ot&&Ot.isTypedArray,we=Tt?Wn(Tt):Hn,Kn=Object.prototype,Yn=Kn.hasOwnProperty;function Ct(t,e){var r=I(t),s=!r&&ae(t),n=!r&&!s&&le(t),i=!r&&!s&&!n&&we(t),o=r||s||n||i,l=o?cn(t.length,String):[],a=l.length;for(var u in t)(e||Yn.call(t,u))&&!(o&&(u=="length"||n&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Re(u,a)))&&l.push(u);return l}var Xn=Object.prototype;function $e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Xn;return t===r}function Pt(t,e){return function(r){return t(e(r))}}var Zn=Pt(Object.keys,Object),Jn=Object.prototype,Un=Jn.hasOwnProperty;function Et(t){if(!$e(t))return Zn(t);var e=[];for(var r in Object(t))Un.call(t,r)&&r!="constructor"&&e.push(r);return e}function ee(t){return t!=null&&Ne(t.length)&&!Ie(t)}function Me(t){return ee(t)?Ct(t):Et(t)}function qt(t){return sn(t,Me,un)}var Vn=1,ei=Object.prototype,ti=ei.hasOwnProperty;function ri(t,e,r,s,n,i){var o=r&Vn,l=qt(t),a=l.length,u=qt(e),f=u.length;if(a!=f&&!o)return!1;for(var p=a;p--;){var m=l[p];if(!(o?m in e:ti.call(e,m)))return!1}var O=i.get(t),b=i.get(e);if(O&&b)return O==e&&b==t;var w=!0;i.set(t,e),i.set(e,t);for(var T=o;++p<a;){m=l[p];var E=t[m],j=e[m];if(s)var Er=o?s(j,E,m,e,t,i):s(E,j,m,t,e,i);if(!(Er===void 0?E===j||n(E,j,r,s,i):Er)){w=!1;break}T||(T=m=="constructor")}if(w&&!T){var qe=t.constructor,Ae=e.constructor;qe!=Ae&&"constructor"in t&&"constructor"in e&&!(typeof qe=="function"&&qe instanceof qe&&typeof Ae=="function"&&Ae instanceof Ae)&&(w=!1)}return i.delete(t),i.delete(e),w}var Ge=J(R,"DataView"),Be=J(R,"Promise"),He=J(R,"Set"),We=J(R,"WeakMap"),At="[object Map]",si="[object Object]",Dt="[object Promise]",It="[object Set]",Qt="[object WeakMap]",jt="[object DataView]",ni=Z(Ge),ii=Z(ie),oi=Z(Be),ai=Z(He),li=Z(We),H=X;(Ge&&H(new Ge(new ArrayBuffer(1)))!=jt||ie&&H(new ie)!=At||Be&&H(Be.resolve())!=Dt||He&&H(new He)!=It||We&&H(new We)!=Qt)&&(H=function(t){var e=X(t),r=e==si?t.constructor:void 0,s=r?Z(r):"";if(s)switch(s){case ni:return jt;case ii:return At;case oi:return Dt;case ai:return It;case li:return Qt}return e});var ui=1,Rt="[object Arguments]",Nt="[object Array]",xe="[object Object]",ci=Object.prototype,Lt=ci.hasOwnProperty;function di(t,e,r,s,n,i){var o=I(t),l=I(e),a=o?Nt:H(t),u=l?Nt:H(e);a=a==Rt?xe:a,u=u==Rt?xe:u;var f=a==xe,p=u==xe,m=a==u;if(m&&le(t)){if(!le(e))return!1;o=!0,f=!1}if(m&&!f)return i||(i=new L),o||we(t)?vt(t,e,r,s,n,i):tn(t,e,a,r,s,n,i);if(!(r&ui)){var O=f&&Lt.call(t,"__wrapped__"),b=p&&Lt.call(e,"__wrapped__");if(O||b){var w=O?t.value():t,T=b?e.value():e;return i||(i=new L),n(w,T,r,s,i)}}return m?(i||(i=new L),ri(t,e,r,s,n,i)):!1}function ze(t,e,r,s,n){return t===e?!0:t==null||e==null||!z(t)&&!z(e)?t!==t&&e!==e:di(t,e,r,s,ze,n)}var fi=1,pi=2;function hi(t,e,r,s){var n=r.length,i=n;if(t==null)return!i;for(t=Object(t);n--;){var o=r[n];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<i;){o=r[n];var l=o[0],a=t[l],u=o[1];if(o[2]){if(a===void 0&&!(l in t))return!1}else{var f=new L,p;if(!(p===void 0?ze(u,a,fi|pi,s,f):p))return!1}}return!0}function Mt(t){return t===t&&!N(t)}function mi(t){for(var e=Me(t),r=e.length;r--;){var s=e[r],n=t[s];e[r]=[s,n,Mt(n)]}return e}function Gt(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function gi(t){var e=mi(t);return e.length==1&&e[0][2]?Gt(e[0][0],e[0][1]):function(r){return r===t||hi(r,t,e)}}var yi="[object Symbol]";function ke(t){return typeof t=="symbol"||z(t)&&X(t)==yi}var vi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_i=/^\w*$/;function Ke(t,e){if(I(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||ke(t)?!0:_i.test(t)||!vi.test(t)||e!=null&&t in Object(e)}var bi="Expected a function";function Ye(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bi);var r=function(){var s=arguments,n=e?e.apply(this,s):s[0],i=r.cache;if(i.has(n))return i.get(n);var o=t.apply(this,s);return r.cache=i.set(n,o)||i,o};return r.cache=new(Ye.Cache||B),r}Ye.Cache=B;var wi=500;function $i(t){var e=Ye(t,function(s){return r.size===wi&&r.clear(),s}),r=e.cache;return e}var xi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ki=/\\(\\)?/g,Si=$i(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(xi,function(r,s,n,i){e.push(n?i.replace(ki,"$1"):s||r)}),e});function Fi(t,e){for(var r=-1,s=t==null?0:t.length,n=Array(s);++r<s;)n[r]=e(t[r],r,t);return n}var Bt=W?W.prototype:void 0,Ht=Bt?Bt.toString:void 0;function Wt(t){if(typeof t=="string")return t;if(I(t))return Fi(t,Wt)+"";if(ke(t))return Ht?Ht.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Oi(t){return t==null?"":Wt(t)}function zt(t,e){return I(t)?t:Ke(t,e)?[t]:Si(Oi(t))}function Se(t){if(typeof t=="string"||ke(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Kt(t,e){e=zt(e,t);for(var r=0,s=e.length;t!=null&&r<s;)t=t[Se(e[r++])];return r&&r==s?t:void 0}function Ti(t,e,r){var s=t==null?void 0:Kt(t,e);return s===void 0?r:s}function Ci(t,e){return t!=null&&e in Object(t)}function Pi(t,e,r){e=zt(e,t);for(var s=-1,n=e.length,i=!1;++s<n;){var o=Se(e[s]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++s!=n?i:(n=t==null?0:t.length,!!n&&Ne(n)&&Re(o,n)&&(I(t)||ae(t)))}function Ei(t,e){return t!=null&&Pi(t,e,Ci)}var qi=1,Ai=2;function Di(t,e){return Ke(t)&&Mt(e)?Gt(Se(t),e):function(r){var s=Ti(r,t);return s===void 0&&s===e?Ei(r,t):ze(e,s,qi|Ai)}}function Xe(t){return t}function Ii(t){return function(e){return e==null?void 0:e[t]}}function Qi(t){return function(e){return Kt(e,t)}}function ji(t){return Ke(t)?Ii(Se(t)):Qi(t)}function Yt(t){return typeof t=="function"?t:t==null?Xe:typeof t=="object"?I(t)?Di(t[0],t[1]):gi(t):ji(t)}function Ri(t){return function(e,r,s){var n=Object(e);if(!ee(e)){var i=Yt(r);e=Me(e),r=function(l){return i(n[l],l,n)}}var o=t(e,r,s);return o>-1?n[i?e[o]:o]:void 0}}function Ni(t,e,r,s){for(var n=t.length,i=r+-1;++i<n;)if(e(t[i],i,t))return i;return-1}var Li=/\s/;function Mi(t){for(var e=t.length;e--&&Li.test(t.charAt(e)););return e}var Gi=/^\s+/;function Bi(t){return t&&t.slice(0,Mi(t)+1).replace(Gi,"")}var Xt=NaN,Hi=/^[-+]0x[0-9a-f]+$/i,Wi=/^0b[01]+$/i,zi=/^0o[0-7]+$/i,Ki=parseInt;function Yi(t){if(typeof t=="number")return t;if(ke(t))return Xt;if(N(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=N(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Bi(t);var r=Wi.test(t);return r||zi.test(t)?Ki(t.slice(2),r?2:8):Hi.test(t)?Xt:+t}var Xi=1/0,Zi=17976931348623157e292;function Ji(t){if(!t)return t===0?t:0;if(t=Yi(t),t===Xi||t===-1/0){var e=t<0?-1:1;return e*Zi}return t===t?t:0}function Ui(t){var e=Ji(t),r=e%1;return e===e?r?e-r:e:0}var Vi=Math.max;function eo(t,e,r){var s=t==null?0:t.length;if(!s)return-1;var n=r==null?0:Ui(r);return n<0&&(n=Vi(s+n,0)),Ni(t,Yt(e),n)}var Zt=Ri(eo),y={get types(){var t;return(t=h.builder.schema)==null?void 0:t.types},get rootQueryType(){var t,e;return Zt(this.types,{name:(e=(t=h.builder.schema)==null?void 0:t.queryType)==null?void 0:e.name})},get rootQueryFields(){return h.builder.helpers.Schema.rootQueryFields},isList(t){var e;return((e=t.type)==null?void 0:e.kind)==="LIST"},findField(t,e){return h.builder.helpers.Schema.findField(t,e)},resolvePath(t,e=""){const r=ro(this.types,this.rootQueryType,Q(e,t));return e?r.slice(e.split(".").length):r},getFields(t){return[...this.getFieldsByType(t,"SCALAR|OBJECT"),...this.getFieldsByType(t,"LIST")]},getFieldsByType(t,e="SCALAR|OBJECT"){return h.builder.helpers.Schema.getFields(t,e.split("|").at(0)).filter(({_field:s})=>s.type.kind.match(new RegExp(e)))},getFieldType(t){return Ut(this.types,t)},getFieldDataType(t){var s,n,i;if(!(t!=null&&t.type))return"";const{type:e,metadata:r}=t;if(e.name==="String"&&((s=r==null?void 0:r.filters)!=null?s:[]).includes("date"))return"Datetime";if(e.kind!=="SCALAR"){const o=this.getFieldType(t);return((n=o==null?void 0:o.metadata)==null?void 0:n.label)||((i=e.ofType)==null?void 0:i.name)}return e.name},getFieldFiltersFields(t){var s;const r=[...((s=t==null?void 0:t.metadata)==null?void 0:s.filters)||[],"search","replace","before","after"].filter(n=>{var i,o,l;return(l=(o=(i=h.builder)==null?void 0:i.sources)==null?void 0:o.filters)==null?void 0:l[n]}).map(n=>({name:n,...h.builder.sources.filters[n]}));return v.keyBy(r,"name")},getImplodeFields(){var t,e,r;return{implode:(r=(e=(t=h.builder)==null?void 0:t.sources)==null?void 0:e.yooessentials)==null?void 0:r.implode}},getFieldArgumentsFields(t){var e,r,s,n;return(n=(s=(e=t==null?void 0:t.metadata)==null?void 0:e.fields)!=null?s:(r=t==null?void 0:t.metadata)==null?void 0:r.arguments)!=null?n:{}},getFieldDirectivesFields(t){var r;return(((r=t==null?void 0:t.metadata)==null?void 0:r.directives)||["slice"]).filter(s=>{var n,i,o;return(o=(i=(n=h.builder)==null?void 0:n.sources)==null?void 0:i.directives)==null?void 0:o[s]}).map(s=>({name:s,...h.builder.sources.directives[s]}))},getFieldDirectivesDefaults(t){return this.getFieldDirectivesFields(t).map(r=>({name:r.name,arguments:to(Jt(r.fields))}))}};function Jt(t){return Object.entries(t).reduce((e,[r,s])=>(e[r]=s,s.fields&&(e={...e,...Jt(s.fields)}),e),{})}function to(t){return Object.entries(t).reduce((e,[r,s])=>("default"in s&&(e[r]=s.default),e),{})}function Q(...t){return t.flat(1/0).filter(Boolean).join(".")}function Ut(t,e){var s;const{name:r}=((s=e==null?void 0:e.type)==null?void 0:s.ofType)||(e==null?void 0:e.type)||{};return r?t.find(n=>n.name===r):null}function ro(t,e,r){var i;const s=[],n=r.split(".").filter(Boolean);for(const o of n){const l=(i=e==null?void 0:e.fields)==null?void 0:i.find(a=>a.name===o);e=Ut(t,l),s.push({field:l||o,type:e})}return s}var k={nodeKey:"#node",parentKey:"#parent",closestKey:"~closest",globalKey:"~global:",showMultipleSelectField(t){var n,i,o;const e=y.findField(t.queryPath),r=((n=e==null?void 0:e.type)==null?void 0:n.kind)==="LIST",s=h.builder.helpers.Schema.hasFields(e,"LIST");return((o=(i=t.values.query)==null?void 0:i.field)==null?void 0:o.name)||!r&&s},getQuery(t){return h.builder.helpers.Source.getQuery(t)},getProp(t,e){var r,s,n,i;return((s=(r=t.source)==null?void 0:r.props)==null?void 0:s[e.name])||((i=(n=t.source_extended)==null?void 0:n.props)==null?void 0:i[e.name])},removeProp(t,e){this.removeQueryProp(t,e.name)},removeQueryProp(t,e){var r,s,n,i,o,l;(s=(r=t==null?void 0:t.source)==null?void 0:r.props)!=null&&s[e]&&c.delete(t.source.props,e),(n=t.source)!=null&&n.props&&_.isEmpty(t.source.props)&&c.delete(t.source,"props"),t.source&&_.isEmpty(t.source)&&c.delete(t,"source"),(o=(i=t==null?void 0:t.source_extended)==null?void 0:i.props)!=null&&o[e]&&c.delete(t.source_extended.props,e),(l=t.source_extended)!=null&&l.props&&_.isEmpty(t.source_extended.props)&&c.delete(t.source_extended,"props"),t.source_extended&&_.isEmpty(t.source_extended)&&c.delete(t,"source_extended")},getQueryArgumentProp(t,e){var r,s,n;return(n=(s=(r=t.source)==null?void 0:r.query)==null?void 0:s.arguments_extended)==null?void 0:n[e]},removeQueryArgumentProp(t,e){var r,s,n;for(const i of["arguments","arguments_extended"])(n=(s=(r=t==null?void 0:t.source)==null?void 0:r.query)==null?void 0:s[i])!=null&&n[e]&&(c.delete(t.source.query[i],e),_.isEmpty(t.source.query[i])&&c.delete(t.source.query,i))},getQueryFieldArgumentProp(t,e){var r,s,n,i;return(i=(n=(s=(r=t.source)==null?void 0:r.query)==null?void 0:s.field)==null?void 0:n.arguments_extended)==null?void 0:i[e]},removeQueryFieldArgumentProp(t,e){var r,s,n,i;(i=(n=(s=(r=t==null?void 0:t.source)==null?void 0:r.query)==null?void 0:s.field)==null?void 0:n.arguments_extended)!=null&&i[e]&&(c.delete(t.source.query.field.arguments_extended,e),_.isEmpty(t.source.query.field.arguments_extended)&&c.delete(t.source.query.field,"arguments_extended"))},setQuery(t,e){c.delete((t==null?void 0:t.source)||{},"query"),c.delete((t==null?void 0:t.source_extended)||{},"query"),e&&v.set(t,"source.query.name",e),_.isEmpty(t.source)&&c.delete(t,"source"),_.isEmpty(t.source_extended)&&c.delete(t,"source_extended")},setProp(t,e,r){if(e.origin==="query-args"){this.setQueryArgumentProp(t,e.name,r);return}if(e.origin==="query-args-field"){this.setQueryFieldArgumentProp(t,e.name,r);return}this.setExtendedProp(t,e,r)},setExtendedProp(t,e,r){t.props&&c.delete(t.props,e.name),this.removeProp(t,e),v.set(t,`source_extended.props.${e.name}`,r)},setQueryArgumentProp(t,e,r){this.removeQueryArgumentProp(t,e),v.set(t,`source.query.arguments_extended.${e}`,r)},setQueryFieldArgumentProp(t,e,r){this.removeQueryFieldArgumentProp(t,e),v.set(t,`source.query.field.arguments_extended.${e}`,r)},isParentInheriting(t){var e;return(e=t==null?void 0:t.name)==null?void 0:e.startsWith(h.builder.helpers.Source.parentKey)},resolveAdjacentNode(t){var e,r;return!((e=g.yoo.Builder)!=null&&e.exists(t))&&((r=g.yoo.Builder)!=null&&r.adjacentOf)?g.yoo.Builder.adjacentOf:t},builderPath(t,e){var i,o,l,a;const r=g.yoo.Builder.path(e);t!=null&&t.isNodeInheriting||r.splice(0,1);let s=(o=(i=t.values.query)==null?void 0:i.name)!=null?o:this.parentKey;const n={name:"#source",source:{query:{...(l=t.values.query)!=null?l:{},name:s.replace(this.nodeKey,this.parentKey)}}};r.unshift(n);for(let u=0;u<r.length;u++){const f=r[u];if(this.isGlobalQuery((a=f.source)==null?void 0:a.query)){const p=this.resolveGlobalQuery(f.source.query);if(p){const m={name:"#global",source:{query:p}};r.splice(u+1,0,m),u++}}}return r.filter(Boolean)},getGlobalQuery(t){const e=t.name.replace(this.globalKey,"");return g.helpers.Dynamic.getGlobalQuery(e)},resolveGlobalQuery(t){var e,r;return(r=(e=this.getGlobalQuery(t))==null?void 0:e.source)==null?void 0:r.query},isGlobalQuery(t){var e;return(e=t==null?void 0:t.name)==null?void 0:e.startsWith(g.helpers.Source.globalKey)}};class F{constructor(e={},r){C(this,"node");C(this,"values");this.values=e,r&&(this.node=k.resolveAdjacentNode(r))}get path(){return Q(h.builder.helpers.Source.getSourcePath(k.builderPath(this,this.node)),this.field)}get basePath(){return this.field&&this.path.endsWith(this.field)?this.path.slice(0,-`.${this.field}`.length):this.path}get queryPath(){return this.values.query?this.queryField&&this.basePath.endsWith(this.queryField)?this.basePath.slice(0,-`.${this.queryField}`.length):this.basePath:null}get nodeSource(){return new F(this.node.source,this.node)}get nodeType(){return g.yoo.Builder.type(this.node)}get parentNode(){var r;const e=((r=g.yoo.Builder)==null?void 0:r.path(this.node))||[];e.splice(0,1);for(const s of e)if(new F(s.source,s).query)return s;return null}get parentSource(){const e=this.parentNode;return e?new F(e.source,e):null}get isEmpty(){return _.isEmpty(this.values)}get isInheriting(){return this.isNodeInheriting||this.isParentInheriting}get isNodeInheriting(){var e,r,s,n,i,o,l,a;return(s=(r=(e=this.values)==null?void 0:e.query)==null?void 0:r.name)!=null&&s.startsWith(k.nodeKey)?!0:!this.isComposed&&!((i=(n=this.values)==null?void 0:n.query)!=null&&i.name)&&((a=(l=(o=this.node)==null?void 0:o.source)==null?void 0:l.query)==null?void 0:a.name)}get isParentInheriting(){var e,r;return((r=(e=this.values)==null?void 0:e.query)==null?void 0:r.name)===k.parentKey}get isGlobalQuery(){var e,r,s;return(s=(r=(e=this.values)==null?void 0:e.query)==null?void 0:r.name)==null?void 0:s.startsWith(k.globalKey)}get isExtending(){var e,r,s;return this.isInheriting&&!!((s=(r=(e=this.values)==null?void 0:e.query)==null?void 0:r.field)!=null&&s.name)}get isComposed(){return!!this.values.composed}get isFieldValid(){return!!this.fieldSchemaType}get isQueryValid(){return!!this.querySchemaType}get isQueryFieldValid(){return!!this.queryFieldSchemaType}get isMultipleSource(){var e,r,s,n;return this.isInheriting&&!((r=(e=this.values)==null?void 0:e.query)!=null&&r.field)?!1:((n=(s=y.findField(this.basePath))==null?void 0:s.type)==null?void 0:n.kind)==="LIST"}get composed(){return this.values.composed}get field(){var e;return(e=this.values.name)!=null?e:""}set field(e){e=e||"";const[r,s]=so(e,this.basePath);r&&(this.queryField=r);const n=y.findField(Q(this.basePath,e));n&&(ce(this.values,"filters",y.getFieldFiltersFields(n)),ce(this.values,"arguments",y.getFieldArgumentsFields(n))),c.set(this.values,"name",s),this.isMultipleSource?ce(this.values,"implode",y.getImplodeFields()):c.delete(this.values,"implode")}get query(){var e;return((e=this.values.query)==null?void 0:e.name)||""}get queryArguments(){var e,r;return(r=(e=this.values.query)==null?void 0:e.arguments)!=null?r:{}}getQueryArgument(e){var r,s;return(s=(r=this.values.query)==null?void 0:r.arguments)==null?void 0:s[e]}getQueryExtendedArgument(e){var r,s;return(s=(r=this.values.query)==null?void 0:r.arguments_extended)==null?void 0:s[e]}setQueryArgument(e,r){v.set(this.values.query,`arguments.${e}`,r)}setQueryExtendedArgument(e,r){v.set(this.values.query,`arguments_extended.${e}`,r)}removeQueryArgument(e){var r,s;for(const n of["arguments","arguments_extended"])(s=(r=this.values.query)==null?void 0:r[n])!=null&&s[e]&&(c.delete(this.values.query[n],e),_.isEmpty(this.values.query[n])&&c.delete(this.values.query,n))}set query(e){var s;if(e=e||"",((s=this.values.query)==null?void 0:s.name)===e)return;if(!e){this.queryField=null,c.delete(this.values,"query");return}c.set(this.values,"query",{name:e});const r=y.findField(e);r&&ce(this.values.query,"arguments",y.getFieldArgumentsFields(r)),this.queryField||c.delete(this.values,"implode")}get queryField(){var e,r,s;return(s=(r=(e=this.values.query)==null?void 0:e.field)==null?void 0:r.name)!=null?s:""}get queryFieldArguments(){var e,r,s;return(s=(r=(e=this.values.query)==null?void 0:e.field)==null?void 0:r.arguments)!=null?s:{}}getQueryFieldArgument(e){var r,s,n;return(n=(s=(r=this.values.query)==null?void 0:r.field)==null?void 0:s.arguments_extended)==null?void 0:n[e]}getQueryFieldExtendedArgument(e){var r,s,n;return(n=(s=(r=this.values.query)==null?void 0:r.field)==null?void 0:s.arguments_extended)==null?void 0:n[e]}setQueryFieldArgument(e,r){v.set(this.values.query,`field.arguments.${e}`,r)}setQueryFieldExtendedArgument(e,r){v.set(this.values.query,`field.arguments_extended.${e}`,r)}removeQueryFieldArgument(e){var r,s,n;for(const i of["arguments","arguments_extended"])(n=(s=(r=this.values.query)==null?void 0:r.field)==null?void 0:s[i])!=null&&n[e]&&(c.delete(this.values.query.field[i],e),_.isEmpty(this.values.query.field[i])&&c.delete(this.values.query.field,i))}getQueryFieldDirective(e){var r,s;return Zt((s=(r=this.values.query)==null?void 0:r.field)==null?void 0:s.directives,{name:e})}getQueryFieldDirectiveArg(e,r){var s;return(s=this.getFieldDirectiveArgs(e))==null?void 0:s[r]}getQueryFieldDirectiveArgs(e){var r;return(r=this.getQueryFieldDirective(e))==null?void 0:r.arguments}setQueryFieldDirectiveArg(e,r,s){var i,o;let n=this.getQueryFieldDirective(e);n||(n={name:e},(o=(i=this.values.query)==null?void 0:i.field)!=null&&o.directives||v.set(this.values,"query.field.directives",[]),this.values.query.field.directives.push(n)),v.set(n,`arguments.${r}`,s)}set queryField(e){var s;if(e=e||"",!e){(s=this.values.query)!=null&&s.field&&c.delete(this.values.query,"field"),c.delete(this.values,"implode");return}this.values.query||c.set(this.values,"query",{}),c.set(this.values.query,"field",{name:e});const r=y.findField(Q(this.query,e));if(r){const n=y.getFieldDirectivesDefaults(r);_.isEmpty(n)||c.set(this.values.query.field,"directives",n),ce(this.values.query.field,"arguments",y.getFieldArgumentsFields(r))}}get nodeQuery(){var e,r,s;return((s=(r=(e=this.node)==null?void 0:e.source)==null?void 0:r.query)==null?void 0:s.name)||""}get nodeQueryField(){var e,r,s,n;return((n=(s=(r=(e=this.node)==null?void 0:e.source)==null?void 0:r.query)==null?void 0:s.field)==null?void 0:n.name)||""}get fieldSchema(){return this.field&&y.findField(this.path)}get fieldSchemaType(){return y.getFieldDataType(this.fieldSchema)}get baseSchema(){return this.basePath&&y.findField(this.basePath)}get baseSchemaType(){return y.getFieldType(this.baseSchema)}get querySchema(){return this.query&&y.findField(this.queryPath)}get querySchemaType(){return y.getFieldType(this.querySchema)}get queryFieldSchema(){return this.queryField&&y.findField(this.basePath)}get queryFieldSchemaType(){return y.getFieldType(this.queryFieldSchema)}get fieldOverview(){var r,s,n,i,o,l,a;let e=Fe(this.field,this.basePath).join(" / ");if((s=(r=this.fieldSchema)==null?void 0:r.metadata)!=null&&s.group&&(e=`${this.fieldSchema.metadata.group} - ${e}`),(i=(n=this.baseSchemaType)==null?void 0:n.metadata)!=null&&i.label&&(e=`${this.baseSchemaType.metadata.label} / ${e}`),(l=(o=this.fieldSchemaType)==null?void 0:o.metadata)!=null&&l.label&&(e=`${this.fieldSchemaType.metadata.label} / ${e}`),this.isGlobalQuery){const u=k.getGlobalQuery(this.values.query);e=c.i18n.t("Global / %title% (%label%)",{title:(a=u==null?void 0:u.name)!=null?a:"Unknown",label:`<span class="uk-text-small">${e.join("/")}</span>`})}return e}get queryOverview(){var r,s,n,i,o,l;const e=Fe(this.queryPath);if(this.isInheriting){const a=c.i18n.t(this.isParentInheriting?"Parent":"Node"),u=this.isParentInheriting?(n=(s=(r=this.parentSource)==null?void 0:r.nodeType)==null?void 0:s.title)!=null?n:"Unknown":(o=(i=this.nodeType)==null?void 0:i.title)!=null?o:"Unknown",f=`<span class="uk-text-small">${e.join("/")}</span>`;return c.i18n.t("%title% - %type% (%label%)",{title:a,type:u,label:f})}if(this.isGlobalQuery){const a=k.getGlobalQuery(this.values.query);return c.i18n.t("Global / %title% (%label%)",{title:(l=a==null?void 0:a.name)!=null?l:"Unknown",label:`<span class="uk-text-small">${e.join("/")}</span>`})}return e.join(" / ")}get queryFieldOverview(){return Fe(this.queryField,this.queryPath).join(" / ")}get baseOverview(){return Fe(this.basePath).join(" / ")}get pathOverview(){var r,s,n,i,o;const e=[];if(this.isInheriting){const l=this.baseOverview.replace(/ \/ /g,"/"),a=c.i18n.t(this.isParentInheriting?"Parent":"Node"),u=this.isParentInheriting?(n=(s=(r=this.parentSource)==null?void 0:r.nodeType)==null?void 0:s.title)!=null?n:"Unknown":(o=(i=this.nodeType)==null?void 0:i.title)!=null?o:"Unknown",f=`<span class="uk-text-small">${l}</span>`;e.push(c.i18n.t("%title% - %type% (%label%)",{title:a,type:u,label:f}))}else e.push(this.baseOverview);return e.join(" / ")}}function ce(t,e,r){const s=Vt(r);t[e]||c.set(t,e,{});for(const i in s)c.set(t[e],i,s[i]);const n=er(r);for(const i in t[e])n.includes(i)||c.delete(t[e],i);_.isEmpty(t[e])&&c.delete(t,e)}function Fe(t,e){var i,o,l;const r=y.resolvePath(t,e);if(!r.length)return[];const s=[];if(!e){const{field:a,type:u}=r[0];(i=a==null?void 0:a.metadata)!=null&&i.group&&s.push({label:a.metadata.group,type:u})}for(const{field:a,type:u}of r){let f=((o=a==null?void 0:a.metadata)==null?void 0:o.label)||(_.isString(a)?a:null);if(f){const p=(l=a==null?void 0:a.metadata)==null?void 0:l.group;f.startsWith(`${p} `)&&(f=f.replace(new RegExp(`^${p} `),"")),s.push({label:f,type:u})}}return s.reduce((a,u)=>{const f=`${u.label}-${u.type}`,p=a.find(m=>`${m.label}-${m.type}`===f);return p?p.count=(p.count||1)+1:a.push({...u,count:1}),a},[]).map(a=>({...a,label:a.count>1?`${a.label} (${a.count})`:a.label,error:!a.type})).map(a=>a.error?`<span class="uk-text-danger">${a.label}</span>`:a.label)}function so(t,e){const{Schema:r}=h.builder.helpers,s=a=>{var u;return((u=a==null?void 0:a.type)==null?void 0:u.kind)==="LIST"},n=r.resolvePath(t,e).map(([a])=>a),i=n.find(s),o=n.slice(0,n.indexOf(i)+1).map(a=>a.name).join("."),l=n.slice(n.indexOf(i)+1).map(a=>a.name).join(".");return[o,l]}function Vt(t){return Object.entries(t).reduce((e,[r,s])=>("default"in s&&(e[r]=s.default),s.fields&&Object.assign(e,Vt(s.fields)),e),{})}function er(t){return Object.entries(t).reduce((e,[r,s])=>(e.push(r),s.fields&&e.push(...er(s.fields)),e),[])}const no={priority:30,name:"node",title:"Node",inherit:!0,match:t=>t.isNodeInheriting,matchNode:t=>new F(t.source,t).query,query:({prop:t})=>new F(t).query,queries:({node:t})=>{const e=new F(t.source,t);return e.querySchema?[{name:k.nodeKey,type:e.querySchema.type,metadata:{option:"node",group:"Inherit",label:c.i18n.t("Node - %type% (%label%)",{type:e.nodeType.title,label:`<span class="uk-text-small">${e.baseOverview.replace(/ \/ /g,"/")}</span>`}),description:c.i18n.t("Current node source")}}]:[]}},io={priority:30,name:"parent",title:"Parent",inherit:!0,match:t=>t.isParentInheriting,matchNode:t=>!!new F({},t).parentSource,query:({prop:t})=>({...(t==null?void 0:t.query)||{},name:k.parentKey}),queries:({node:t})=>{const r=new F(t.source,t).parentSource;return r.querySchema?[{name:k.parentKey,type:r.querySchema.type,metadata:{option:"parent",group:"Inherit",label:c.i18n.t("Parent - %type% (%label%)",{type:r.nodeType.title,label:`<span class="uk-text-small">${r.baseOverview.replace(/ \/ /g,"/")}</span>`}),description:c.i18n.t("Closest node source")}}]:[]}},oo={priority:20,name:"page",title:"Page",match:t=>Ze().find(({name:e})=>e===t.query),matchNode:()=>Ze().length,queries:()=>Ze()};function Ze(){var r;const t=(r=g.yoo.Builder)==null?void 0:r.view,e=y.rootQueryFields;return e?e==null?void 0:e.filter(({metadata:s})=>{var n;return(s==null?void 0:s.group)===c.i18n.t("Page")&&_.includes((n=s==null?void 0:s.view)!=null?n:[],t)}):[]}const ao={priority:15,name:"global",title:"Global",match:t=>g.helpers.Dynamic.globalSources.find(({name:e})=>e===t.query),matchNode:()=>!0,queries:()=>g.helpers.Dynamic.globalSources},lo={priority:5,name:"global-query",title:"Global Query",inherit:!0,match:t=>t.query.startsWith(k.globalKey),matchNode:()=>!0,queries:()=>{var t;return(((t=g.helpers.Dynamic)==null?void 0:t.queries)||[]).map(e=>{const r=new F(e.source),s=r.querySchema;if(s)return{name:uo(e.id),type:s.type,metadata:{option:"global-query",group:c.i18n.t("Global"),label:e.name||c.i18n.t("Global Query (%label%)",{label:`<span class="uk-text-small">${r.baseOverview.replace(/ \/ /g,"/")}</span>`}),description:e.description||c.i18n.t("Custom Global Query")}}}).filter(Boolean)}};function uo(t){return`${k.globalKey}${t}`}const co={priority:-99,group:"",name:"custom",title:"Custom",match:t=>!t.query.startsWith("~"),matchNode:()=>!0,queries(){const{Schema:t}=h.builder.helpers,e={Page:c.i18n.t("Page"),Parent:c.i18n.t("Parent"),Global:c.i18n.t("Global"),Submission:c.i18n.t("Submission")},r=l=>{var a;return!!((a=l==null?void 0:l.metadata)!=null&&a.group)},s=l=>{var a;return((a=l==null?void 0:l.metadata)==null?void 0:a.group)===c.i18n.t("Custom")},n=l=>t.getFieldType(l).fields.some(s),i=l=>{var a;return Object.values(e).includes((a=l==null?void 0:l.metadata)==null?void 0:a.group)};return t.rootQueryType.fields.reduce((l,a)=>{var u,f,p;if(r(a)&&(s(a)||!i(a)))l.push(a);else if(n(a)){const m=t.getFieldType(a).fields.filter(s),O=((u=a==null?void 0:a.metadata)==null?void 0:u.label)||((p=(f=m==null?void 0:m[0])==null?void 0:f.metadata)==null?void 0:p.label);l.push({name:a.name,type:a.type,metadata:{label:O,group:c.i18n.t("Custom"),description:c.i18n.t("Fetch %label% by custom criteria",{label:O.toLowerCase().replace("custom ","")})}})}return l},[])}},fo={priority:95,name:"composed",title:"Composed",queries(){return[{name:"composed",metadata:{option:"composed",label:c.i18n.t("Composed"),description:c.i18n.t("Compose content from multiple sources")}}]},matchNode:t=>t,match:t=>t.isComposed,directResolve(t,e){var r;return{composed:{value:((r=t.props)==null?void 0:r[e])||"",sources:{},new:!0}}}};function Je(t){const e=v.uuid(4).toLowerCase();return{composed:{value:`{{ sources.${e} }}`,sources:{[e]:t}}}}var po=Object.freeze({__proto__:null,composedOption:fo,customOption:co,globalOption:ao,globalQueriesOption:lo,nodeOption:no,pageOption:oo,parentOption:io,toCompose:Je}),ho={name:"Dynamic",dynamicOptions:Object.values(po),computed:{queries:{get(){return g.helpers.Config.get("dynamic.queries",[])},set(t){g.helpers.Config.set("dynamic.queries",t)},cache:!1},globalSources(){const t=e=>{var r;return((r=e==null?void 0:e.metadata)==null?void 0:r.group)===this.$t("Global")};return h.builder.helpers.Schema.rootQueryFields.filter(t)}},methods:{getOption(t){return this.$options.dynamicOptions.find(e=>e.name===t)},matchOptions(t,e,r){let s=this.$options.dynamicOptions.sort((n,i)=>(i.priority||0)-(n.priority||0));return e?s.find(n=>n.match&&n.match(e)):(t&&(s=s.filter(n=>(n==null?void 0:n.matchNode)&&n.matchNode(t)),s=this.$trigger("essentialsDynamicOptionMatchNode",[s,r])||[]),s)},isGlobalQuery(t){return!!this.getGlobalQuery(t)},getGlobalQuery(t){return this.queries.find(e=>e.id===t)},saveGlobalQuery(t){const e=[...this.queries];return t.id?e[e.findIndex(({id:r})=>r===t.id)]=t:(t={...t,id:v.uuid(),created_at:Date.now(),created_on:g.version},e.push(t)),this.queries=e,t},removeGlobalQuery(t){const e=[...this.queries];e.splice(e.indexOf(t),1),this.queries=e}}};function $(t,e,r,s,n,i,o,l){var a=typeof t=="function"?t.options:t;return e&&(a.render=e,a.staticRenderFns=r,a._compiled=!0),s&&(a.functional=!0),{exports:t,options:a}}const mo={props:{node:Object,child:Boolean,parent:Boolean,multiple:Boolean,error:[Boolean,String],tooltipDirection:{type:String,default:"bottom"}},computed:{icon(){let t="yo-builder-icon-dynamic";return this.parent&&(t+="-p"),this.multiple&&(t+="-n"),this.error&&(t+="-error"),t},title(){var r;const t={"empty-props":this.$t("No Field Mapped"),"invalid-field":this.$t("Invalid Field Mapped")},e=this.error?(r=t[this.error])!=null?r:this.$t("Invalid Source"):this.multiple?this.parent?this.$t("Dynamic Multiplication (Parent Source)"):this.$t("Dynamic Multiplication"):this.parent?this.$t("Dynamic Content (Parent Source)"):this.$t("Dynamic Content");return this.child?this.$t("Contains %title%",{title:e}):e}}};var go=function(){var e=this,r=e._self._c;return r("span",{class:e.icon,attrs:{title:e.title,"uk-tooltip":`delay: 1000; pos: ${e.tooltipDirection}`}})},yo=[],vo=$(mo,go,yo,!1),_o=vo.exports;const bo={name:"SourcePanel",extends:De.BuilderPanel,provide(){return{$source:this.values}},props:{field:Object},created(){var r,s,n,i;const t=(r=this.field)==null?void 0:r.name;if((i=(n=(s=this.node)==null?void 0:s.source)==null?void 0:n.props)==null?void 0:i[t]){const o=new F(this.values,this.node);o.query=k.nodeKey,k.setExtendedProp(this.node,this.field,o.values)}}};var wo=$(bo,null,null,!1),$o=wo.exports;const xo={name:"GlobalQueryModal",components:{BuilderPanel:De.BuilderPanel},inject:{Builder:{default(){return g.yoo.Builder}}},props:{values:{type:Object,default:()=>({})}},data:()=>({draft:{},error:""}),computed:{validated(){return this.draft.name&&this.draft.description},panel(){return{title:"Source Query",fields:{name:{label:"Name",description:"A name to identify this query.",attrs:{autofocus:!0,required:!0}},description:{label:"Description",description:"A description for this query.",attrs:{required:!0}}}}}},created(){this.draft=v.deepCopy(this.values),g.yoo.Builder=ko()},methods:{isEmpty:_.isEmpty}};function ko(){return{isPage:()=>!1,path:t=>[t],type:()=>({}),parent:()=>null,exists:()=>!1}}var So=function(){var e=this,r=e._self._c;return r("form",{on:{submit:function(s){return s.preventDefault(),e.$emit("resolve",e.draft)}}},[r("div",{staticClass:"uk-modal-header uk-flex uk-flex-middle uk-flex-between"},[r("h2",{staticClass:"uk-modal-title uk-margin-remove-bottom"},[e._v(`
            `+e._s(e.$t(e.isEmpty(e.values)?"Save Query":"Edit Query"))+`
        `)]),e._v(" "),e.isEmpty(e.values)?e._e():r("div",{staticClass:"uk-grid-small uk-child-width-auto uk-flex-middle",attrs:{"uk-grid":""}},[r("div",[r("button",{staticClass:"uk-button uk-button-default uk-modal-close",attrs:{type:"button"},on:{click:function(s){return e.$trigger("yeCopyGlobalQuery",[e.draft],!0)}}},[e._v(`
                    `+e._s(e.$t("Copy"))+`
                `)])]),e._v(" "),r("div",[r("button",{directives:[{name:"confirm",rawName:"v-confirm",value:e.$t("Are you sure?"),expression:"$t('Are you sure?')"}],staticClass:"uk-button uk-button-danger uk-modal-close",attrs:{type:"button"},on:{click:function(s){return e.$trigger("yeDeleteGlobalQuery",[e.draft],!0)}}},[e._v(`
                    `+e._s(e.$t("Delete"))+`
                `)])])])]),e._v(" "),r("div",{staticClass:"uk-modal-body"},[r("BuilderPanel",{attrs:{node:e.draft,builder:e.Builder,panel:e.panel,values:e.draft}})],1),e._v(" "),r("div",{staticClass:"uk-modal-footer uk-flex uk-flex-middle uk-flex-right"},[r("button",{staticClass:"uk-button uk-button-text uk-modal-close uk-margin-right",attrs:{type:"button"}},[e._v(`
            `+e._s(e.$t("Cancel"))+`
        `)]),e._v(" "),r("button",{staticClass:"uk-button uk-button-primary",attrs:{disabled:!e.validated}},[e._v(`
            `+e._s(e.$t("Save"))+`
        `)])])])},Fo=[],Oo=$(xo,So,Fo,!1),To=Oo.exports;const Co={name:"GlobalQueriesSection",props:{panel:Object},computed:{queries(){return g.helpers.Dynamic.queries}},events:{yeCopyGlobalQuery(t,{id:e,...r}){r.name=r.name?`${r.name} Copy`:"",g.helpers.Dynamic.saveGlobalQuery(v.deepCopy(r))},yeDeleteGlobalQuery(t,e){g.helpers.Dynamic.removeGlobalQuery(e)}},methods:{isEmpty:_.isEmpty,getQueryLabel(t){var e,r,s,n;return((n=(s=y.findField(((r=(e=t==null?void 0:t.source)==null?void 0:e.query)==null?void 0:r.name)||""))==null?void 0:s.metadata)==null?void 0:n.label)||"Unknown"},async add(){const t=await this.edit({});t&&this.editQuery(t)},async edit(t){const e=await h.uikit.promptModal(To,{values:t});if(e)return g.helpers.Dynamic.saveGlobalQuery(e)},editQuery(t){const e=g.helpers.Dynamic.getGlobalQuery(t.id);e.source||this.$set(e,"source",{}),this.$trigger("openDynamicPanel",{...h.customizer.panels["yooessentials-source-query"],name:"yooessentials-source-global-query",title:t.name||this.$t("Global Query"),width:500,props:{node:e,values:e.source}})}}};var Po=function(){var e=this,r=e._self._c;return r("div",{staticClass:"uk-margin-remove-first-child"},[e.isEmpty(e.queries)?e._e():r("ul",{staticClass:"uk-nav uk-nav-default yo-sidebar-marginless uk-text-capitalize yo-nav-iconnav"},e._l(e.queries,function(s){return r("li",{key:s.id,staticClass:"uk-visible-toggle"},[r("a",{attrs:{href:""},on:{click:function(n){return n.preventDefault(),e.editQuery(s)}}},[r("div",{attrs:{lass:"uk-flex"}},[r("span",[e._v(e._s(s.name||e.getQueryLabel(s)))]),e._v(" "),s.name?r("div",{staticClass:"uk-text-meta"},[e._v(e._s(e.getQueryLabel(s)))]):e._e()])]),e._v(" "),r("button",{staticClass:"uk-position-center-right uk-position-medium uk-icon-link uk-invisible-hover",staticStyle:{padding:"10px 0 10px 10px"},attrs:{type:"button","uk-icon":"more-vertical"},on:{click:function(n){return n.preventDefault(),e.edit(s)}}})])}),0),e._v(" "),r("button",{staticClass:"uk-button uk-button-default uk-width-1-1",class:{"uk-margin-medium-top":!e.isEmpty(e.queries)},attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.add.apply(null,arguments)}}},[e._v(`
        `+e._s(e.$t("New Query"))+`
    `)]),e._v(" "),r("p",{staticClass:"uk-text-muted"},[e._v(e._s(e.$t("Global Queries for the Dynamic Content workflow.")))])])},Eo=[],qo=$(Co,Po,Eo,!1),Ao=qo.exports;const Do={props:{base:{type:String,required:!0},path:{type:String,default:""},resolvable:{type:Function,default:t=>t.kind==="SCALAR"},maxHeight:{type:String,default:"large"},maxNesting:{type:Number,default:1},fieldType:String,additionalFields:Array},data:()=>({search:"",segments:[]}),computed:{assetsUrl(){return h.config.assets},basefield(){return y.findField(this.segments,this.base)},selectedField(){return this.fields.find(t=>Q(this.base,this.path)===Q(this.base,this.segments,t.value))},maxNestingReached(){return y.resolvePath(Q(this.segments),this.base).filter(({field:e})=>y.isList(e)).length===this.maxNesting},fields(){return this.basefield?(this.fieldType||this.maxNestingReached?y.getFieldsByType(this.basefield,this.fieldType):y.getFields(this.basefield)).map(e=>({...e,_type:y.getFieldType(e._field),_dataType:y.getFieldDataType(e._field)})).sort((e,r)=>(this.toSubgroup(e)||"").localeCompare(this.toSubgroup(r)||"")):[]},fieldList(){return this.fields.filter(({text:t,meta:e="",group:r=""})=>v.stringIncludes(t,this.search)||v.stringIncludes(e,this.search)||v.stringIncludes(r,this.search))},backButtonLabel(){const t=this.segments.slice(0,-1),e=y.findField(t,this.base),r=this.toFieldLabel(e);let s=0;for(const n of[...this.segments].reverse()){if(n!==(e==null?void 0:e.name))break;s++}return s>1?c.i18n.t("%label% (%depth%)",{label:r,depth:s}):r}},watch:{segments(){this.search="",this.$refs.search.focus(),this.$refs.scrollEl.scrollTop=0}},created(){this.segments=this.segmentPath(this.path)},methods:{select(t){if(t._field&&!this.resolvable(t._field.type)){this.segments=this.segments.concat(t.value);return}this.$emit("resolve",t.value&&Q(this.segments,t.value))},toSubgroup(t){const{Schema:e}=h.builder.helpers;for(const[{metadata:r}]of e.resolvePath(t==null?void 0:t.value,Q(this.base,this.segments)))if(r!=null&&r.group)return r.group},toFieldLabel(t){var r;const e=y.getFieldType(t);return((r=e==null?void 0:e.metadata)==null?void 0:r.label)||(e==null?void 0:e.name)||(t==null?void 0:t.name)},segmentPath(t){var n;const{Schema:e}=h.builder.helpers,r=[];let s=[];for(const[i,o]of e.resolvePath(t,this.base))s.push(i.name),!this.resolvable(i.type)&&i.type.kind.match(/OBJECT|LIST/)&&((n=o.metadata)!=null&&n.type)&&(r.push(Q(s)),s=[]);return r}}};var Io=function(){var e=this,r=e._self._c;return r("div",[r("div",{staticClass:"yo-dropdown-header"},[r("div",{staticClass:"uk-search uk-search-default uk-width-1-1"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"search",staticClass:"uk-search-input",attrs:{placeholder:e.$t("Search"),type:"search",autofocus:""},domProps:{value:e.search},on:{input:function(s){s.target.composing||(e.search=s.target.value)}}}),e._v(" "),r("span",{staticClass:"uk-search-icon-flip",attrs:{"uk-search-icon":""}})])]),e._v(" "),r("div",{ref:"scrollEl",staticClass:"yo-dropdown-body uk-overflow-auto",class:`uk-height-max-${e.maxHeight}`},[r("ul",{staticClass:"uk-nav uk-dropdown-nav"},[e._l(e.additionalFields,function(s){return[s.label?[r("li",{key:`label-${s.label}`,staticClass:"uk-nav-header"},[e._v(`
                        `+e._s(s.label)+`
                    `)]),e._v(" "),e._l(s.options,function(n){return r("li",{key:n.value},[r("a",{attrs:{href:""},on:{click:function(i){return i.preventDefault(),e.select(n)}}},[e._v(e._s(n.text))])])})]:r("li",{key:s.value},[r("a",{attrs:{href:""},on:{click:function(n){return n.preventDefault(),e.select(s)}}},[e._v(e._s(s.text))])])]}),e._v(" "),e.segments.length?r("li",{staticClass:"uk-nav-header uk-padding-remove"},[r("a",{staticClass:"uk-flex uk-flex-middle uk-text-emphasis",attrs:{href:""},on:{click:function(s){s.preventDefault(),e.segments=e.segments.slice(0,-1)}}},[r("img",{staticClass:"uk-icon uk-margin-xsmall-right",attrs:{"uk-svg":`${e.assetsUrl}/images/field-dynamic-arrow-left.svg`}}),e._v(" "),r("span",[e._v(e._s(e.backButtonLabel))])])]):e._e(),e._v(" "),r("li",{staticClass:"uk-nav-header"},[e._v(`
                `+e._s(e.toFieldLabel(e.basefield))+`
            `)]),e._v(" "),e._l(Object.entries(e.fieldList),function([s,n]){var i,o;return[e.toSubgroup(n)&&e.toSubgroup(e.fields[s-1])!==e.toSubgroup(n)?r("li",{key:`${n.value}-label`,staticClass:"yo-nav-subheader"},[e._v(`
                    `+e._s(e.toSubgroup(n))+`
                `)]):e._e(),e._v(" "),r("li",{key:n.value,class:{"uk-active":e.selectedField===n}},[r("a",{class:{"uk-disabled uk-text-muted":e.maxNestingReached&&n._field.type.kind==="LIST"},attrs:{href:""},on:{click:function(l){return l.preventDefault(),e.select(n)}}},[r("div",[r("span",{staticClass:"uk-text-nowrap",domProps:{innerHTML:e._s(n.text)}}),e._v(" "),n._field.type.kind.match(/LIST|OBJECT/)&&!e.resolvable(n._field.type)?r("img",{staticClass:"uk-icon uk-margin-xsmall-left",attrs:{"uk-svg":`${e.assetsUrl}/images/field-dynamic-arrow-right.svg`}}):e._e(),e._v(" "),r("div",{staticClass:"uk-nav-subtitle uk-text-muted"},[e._v(`
                                `+e._s(n.meta)+`
                                `+e._s(((o=(i=n._field)==null?void 0:i.type)==null?void 0:o.kind)==="LIST"?e.$t("List of %type%",{type:n._dataType}):n._dataType)+`
                            `)])])])])]})],2),e._v(" "),e.fieldList.length?e._e():r("span",[e._v(e._s(e.$t("No source field found.")))])])])},Qo=[],jo=$(Do,Io,Qo,!1),de=jo.exports;const Ro={name:"DynamicField",inject:["$node"],provide(){return{$field:this.field}},props:{field:{type:Object,required:!0},source:{type:Object,required:!0},values:{type:Object,default:()=>({})}},computed:{matchedOption(){return g.helpers.Dynamic.matchOptions(this.$node,this.source)}},methods:{edit(){this.$trigger("openSourcePanel",{name:`yooessentials-source-${g.yoo.Builder.id(this.$node)}-${this.field.name}`,title:this.field.label||this.field.name,props:{node:this.$node,field:this.field,values:this.source.values}})},async remap(){const t=await h.uikit.promptDropdown(de,{base:this.source.basePath,path:this.source.path.replace(this.source.basePath+".",""),maxNesting:this.source.queryField?0:1},this.$el,{flip:!1,classes:"yo-dropdown"});t&&(this.source.queryField=null,this.source.field=t)}}};var No=function(){var s;var e=this,r=e._self._c;return r("div",{staticClass:"uk-position-relative uk-input yo-input-iconnav-right ye-dynamic-field",class:{"uk-form-danger ye-dynamic-field-error":!e.source.isFieldValid}},[r("div",{staticClass:"uk-flex uk-flex-middle",attrs:{title:e.source.pathOverview,"uk-tooltip":"delay: 500"},on:{click:function(n){return n.preventDefault(),e.remap.apply(null,arguments)}}},[r("span",{staticClass:"uk-flex-none uk-flex uk-flex-middle uk-margin-small-right",attrs:{"uk-icon":`ye--dynamic${e.source.isMultipleSource?"-n":""}`,ratio:"1.2"}}),e._v(" "),r("div",{staticClass:"uk-flex-1 uk-disabled uk-text-truncate"},[r("span",{domProps:{innerHTML:e._s(e.source.fieldOverview)}}),e._v(" "),e.source.fieldSchemaType?r("span",{staticClass:"uk-text-meta"},[e._v(e._s(e.source.fieldSchemaType))]):e._e()])]),e._v(" "),r("div",{staticClass:"uk-position-center-right uk-position-small"},[r("ul",{staticClass:"uk-iconnav uk-flex-nowrap"},[r("li",[r("a",{staticClass:"uk-icon-link uk-preserve-width",attrs:{title:e.$t("Edit"),href:"","uk-icon":"pencil","uk-tooltip":"delay: 500"},on:{click:function(n){return n.preventDefault(),e.edit.apply(null,arguments)}}})]),e._v(" "),e.source.isFieldValid&&!((s=e.source)!=null&&s.composed)?r("li",[r("a",{staticClass:"uk-icon-link uk-preserve-width",attrs:{title:e.$t("Compose"),href:"","uk-icon":"forward","uk-tooltip":"delay: 500"},on:{click:function(n){return n.preventDefault(),e.$emit("compose")}}})]):e._e(),e._v(" "),r("li",[r("a",{staticClass:"uk-icon-link uk-preserve-width",attrs:{title:e.$t("Delete"),href:"","uk-icon":"trash","uk-tooltip":"delay: 500"},on:{click:function(n){return n.preventDefault(),e.$emit("remove")}}})])])])])},Lo=[],Mo=$(Ro,No,Lo,!1),tr=Mo.exports;const Go={name:"QueryFieldsList",props:{node:{type:Object,required:!0},path:{type:String,default:()=>""},options:{type:Array,default:()=>[]},isSelected:{type:Function,default:t=>!1},additionalFields:{type:Array,default:()=>[]},builder:{type:Object},maxHeight:{type:String,default:"large"}},data:()=>({search:"",segments:[]}),computed:{assetsUrl(){return h.config.assets},basefield(){return y.findField(this.segments)},isRootQuery(){return this.segments.length===0},queries(){return this.options.filter(t=>t.queries).reduce((t,e)=>[...t,...e.queries({node:this.node}).map(r=>({...r,option:e})).sort((r,s)=>{var n,i;return(((n=r.metadata)==null?void 0:n.group)||"").localeCompare(((i=s.metadata)==null?void 0:i.group)||"")})],[])},fields(){var r,s;const{Schema:t}=h.builder.helpers;return(this.basefield?(s=(r=t.getFieldType(this.basefield))==null?void 0:r.fields)==null?void 0:s.filter(this.isQueryField):this.queries).map(n=>{var i,o,l;return{value:n.name,path:Q(this.segments,n.name),option:n.option,text:(i=n.metadata)==null?void 0:i.label,group:(o=n.metadata)==null?void 0:o.group,desc:(l=n.metadata)==null?void 0:l.description,metadata:n.metadata,isQueryType:this.isQueryType(n)}})},fieldList(){return this.fields.filter(({text:t="",meta:e="",group:r=""})=>v.stringIncludes(t,this.search)||v.stringIncludes(e,this.search)||v.stringIncludes(r,this.search))}},watch:{segments(){this.search="",this.$refs.search.focus(),this.$refs.scrollEl.scrollTop=0}},created(){this.segments=this.path.split(".").filter(Boolean).slice(0,-1)},methods:{select(t){if(t.isQueryType){this.segments=this.segments.concat(t.value);return}this.$emit("resolve",[t.value?Q(this.segments,t.value):t.value,t.option])},isQueryType(t){var i,o,l,a;const{Schema:e}=h.builder.helpers,r=((i=t==null?void 0:t.type)==null?void 0:i.name)||((o=t==null?void 0:t.ofType)==null?void 0:o.name),s=((a=(l=e.getFieldType(t))==null?void 0:l.metadata)==null?void 0:a.type)===!0,n=e.rootQueryType.fields.some(({type:u})=>(u==null?void 0:u.name)===r);return!s&&n},isQueryField(t){var r,s;const e={Page:c.i18n.t("Page"),Parent:c.i18n.t("Parent"),Global:c.i18n.t("Global"),Submission:c.i18n.t("Submission")};return((r=t==null?void 0:t.metadata)==null?void 0:r.group)&&!Object.values(e).includes((s=t==null?void 0:t.metadata)==null?void 0:s.group)},getSegmentField(t){return y.findField(t)},getSegmentLabel(t){var r;const e=this.getSegmentField(t);return((r=e==null?void 0:e.metadata)==null?void 0:r.label)||(e==null?void 0:e.name)}}};var Bo=function(){var s,n;var e=this,r=e._self._c;return r("div",[r("div",{staticClass:"yo-dropdown-header"},[r("div",{staticClass:"uk-search uk-search-default uk-width-1-1"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"search",staticClass:"uk-search-input",attrs:{placeholder:e.$t("Search"),type:"search",autofocus:""},domProps:{value:e.search},on:{input:function(i){i.target.composing||(e.search=i.target.value)}}}),e._v(" "),r("span",{staticClass:"uk-search-icon-flip",attrs:{"uk-search-icon":""}})])]),e._v(" "),r("div",{ref:"scrollEl",staticClass:"yo-dropdown-body uk-overflow-auto",class:`uk-height-max-${e.maxHeight}`},[r("ul",{staticClass:"uk-nav uk-dropdown-nav"},[e._l(e.additionalFields,function(i){return[i.label?[r("li",{key:`label-${i.label}`,staticClass:"uk-nav-header"},[e._v(`
                        `+e._s(i.label)+`
                    `)]),e._v(" "),e._l(i.options,function(o){return r("li",{key:o.value},[r("a",{attrs:{href:""},on:{click:function(l){return l.preventDefault(),e.select(o)}}},[e._v(e._s(o.text))])])})]:r("li",{key:i.value},[r("a",{attrs:{href:""},on:{click:function(o){return o.preventDefault(),e.select(i)}}},[e._v(e._s(i.text))])])]}),e._v(" "),e.isRootQuery?e._e():r("li",{staticClass:"uk-nav-header uk-padding-remove"},[r("a",{staticClass:"uk-flex uk-flex-middle uk-text-emphasis",attrs:{href:""},on:{click:function(i){i.preventDefault(),e.segments=e.segments.slice(0,-1)}}},[r("img",{staticClass:"uk-icon uk-margin-xsmall-right",attrs:{"uk-svg":`${e.assetsUrl}/images/field-dynamic-arrow-left.svg`}}),e._v(" "),e.isRootQuery?e._e():r("span",[e._v(`
                        `+e._s(((n=(s=e.getSegmentField(e.segments[0]))==null?void 0:s.metadata)==null?void 0:n.group)||e.$t("Back"))+`
                    `)])])]),e._v(" "),e._l(Object.entries(e.fieldList),function([i,o]){var l;return[!e.search&&o.group&&((l=e.fields[i-1])==null?void 0:l.group)!==o.group?r("li",{key:`${o.value}-${o.group}-group`,staticClass:"uk-nav-header"},[e.isRootQuery?[e._v(`
                        `+e._s(o.group)+`
                    `)]:[e._v(`
                        `+e._s(e.getSegmentLabel(e.segments[0]))+`
                    `)]],2):e._e(),e._v(" "),r("li",{key:`${o.value}-${o.group}`,class:{"uk-active":e.isSelected(o)}},[r("a",{attrs:{href:""},on:{click:function(a){return a.preventDefault(),e.select(o)}}},[r("div",[r("span",{domProps:{innerHTML:e._s(o.text)}}),e._v(" "),o.isQueryType?r("img",{staticClass:"uk-icon uk-margin-xsmall-left",attrs:{"uk-svg":`${e.assetsUrl}/images/field-dynamic-arrow-right.svg`}}):e._e(),e._v(" "),r("div",{staticClass:"uk-nav-subtitle uk-text-muted"},[e._v(`
                                `+e._s(o.desc)+`
                            `)])])])])]})],2),e._v(" "),e.fieldList.length?e._e():r("span",[e._v(e._s(e.$t("No source query found.")))])])])},Ho=[],Wo=$(Go,Bo,Ho,!1),rr=Wo.exports;const zo={name:"DynamicDropdown",components:{FieldsList:de,QueryFieldsList:rr},provide(){return{DynamicDropdown:this}},props:{node:{type:Object,required:!0},field:{type:Object,required:!0},omittedOptions:{type:Array,default:()=>[]},maxHeight:{type:String,default:"large"}},data:t=>({source:new F({},t.node)}),computed:{$node(){return g.helpers.Source.resolveAdjacentNode(this.node)},options(){return g.helpers.Dynamic.matchOptions(this.$node).filter(t=>!this.omittedOptions.includes(t.name))}},methods:{setQuery([t,e]){if(e!=null&&e.directResolve){const r=e.directResolve(this.$node,this.field.name);this.$emit("resolve",r);return}this.source.query=t},resolve(t){this.source.field=t,this.$emit("resolve",this.source.values)}}};var Ko=function(){var e=this,r=e._self._c;return r("div",{staticClass:"ye-dropdown ye-dynamic-dropdown"},[e.source.queryPath?r("FieldsList",{attrs:{node:e.$node,base:e.source.queryPath,"max-nesting":e.source.queryField?0:1,"max-height":e.maxHeight},on:{resolve:e.resolve}}):r("QueryFieldsList",{attrs:{node:e.$node,options:e.options,"max-height":e.maxHeight},on:{resolve:e.setQuery}})],1)},Yo=[],Xo=$(zo,Ko,Yo,!1),Ue=Xo.exports,Oe=function(){try{var t=J(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Ve(t,e,r){e=="__proto__"&&Oe?Oe(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function et(t,e,r){(r!==void 0&&!se(t[e],r)||r===void 0&&!(e in t))&&Ve(t,e,r)}function Zo(t){return function(e,r,s){for(var n=-1,i=Object(e),o=s(e),l=o.length;l--;){var a=o[++n];if(r(i[a],a,i)===!1)break}return e}}var Jo=Zo(),sr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nr=sr&&typeof module=="object"&&module&&!module.nodeType&&module,Uo=nr&&nr.exports===sr,ir=Uo?R.Buffer:void 0;ir&&ir.allocUnsafe;function Vo(t,e){return t.slice()}function ea(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function ta(t,e){var r=ea(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function ra(t,e){var r=-1,s=t.length;for(e||(e=Array(s));++r<s;)e[r]=t[r];return e}var or=Object.create,sa=function(){function t(){}return function(e){if(!N(e))return{};if(or)return or(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),ar=Pt(Object.getPrototypeOf,Object);function na(t){return typeof t.constructor=="function"&&!$e(t)?sa(ar(t)):{}}function ia(t){return z(t)&&ee(t)}var oa="[object Object]",aa=Function.prototype,la=Object.prototype,lr=aa.toString,ua=la.hasOwnProperty,ca=lr.call(Object);function da(t){if(!z(t)||X(t)!=oa)return!1;var e=ar(t);if(e===null)return!0;var r=ua.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&lr.call(r)==ca}function tt(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var fa=Object.prototype,pa=fa.hasOwnProperty;function ha(t,e,r){var s=t[e];(!(pa.call(t,e)&&se(s,r))||r===void 0&&!(e in t))&&Ve(t,e,r)}function ma(t,e,r,s){var n=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var l=e[i],a=void 0;a===void 0&&(a=t[l]),n?Ve(r,l,a):ha(r,l,a)}return r}function ga(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var ya=Object.prototype,va=ya.hasOwnProperty;function _a(t){if(!N(t))return ga(t);var e=$e(t),r=[];for(var s in t)s=="constructor"&&(e||!va.call(t,s))||r.push(s);return r}function ur(t){return ee(t)?Ct(t,!0):_a(t)}function ba(t){return ma(t,ur(t))}function wa(t,e,r,s,n,i,o){var l=tt(t,r),a=tt(e,r),u=o.get(a);if(u){et(t,r,u);return}var f=i?i(l,a,r+"",t,e,o):void 0,p=f===void 0;if(p){var m=I(a),O=!m&&le(a),b=!m&&!O&&we(a);f=a,m||O||b?I(l)?f=l:ia(l)?f=ra(l):O?(p=!1,f=Vo(a)):b?(p=!1,f=ta(a)):f=[]:da(a)||ae(a)?(f=l,ae(l)?f=ba(l):(!N(l)||Ie(l))&&(f=na(a))):p=!1}p&&(o.set(a,f),n(f,a,s,i,o),o.delete(a)),et(t,r,f)}function cr(t,e,r,s,n){t!==e&&Jo(e,function(i,o){if(n||(n=new L),N(i))wa(t,e,o,r,cr,s,n);else{var l=s?s(tt(t,o),i,o+"",t,e,n):void 0;l===void 0&&(l=i),et(t,o,l)}},ur)}function $a(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var dr=Math.max;function xa(t,e,r){return e=dr(e===void 0?t.length-1:e,0),function(){for(var s=arguments,n=-1,i=dr(s.length-e,0),o=Array(i);++n<i;)o[n]=s[e+n];n=-1;for(var l=Array(e+1);++n<e;)l[n]=s[n];return l[e]=r(o),$a(t,this,l)}}function ka(t){return function(){return t}}var Sa=Oe?function(t,e){return Oe(t,"toString",{configurable:!0,enumerable:!1,value:ka(e),writable:!0})}:Xe,Fa=800,Oa=16,Ta=Date.now;function Ca(t){var e=0,r=0;return function(){var s=Ta(),n=Oa-(s-r);if(r=s,n>0){if(++e>=Fa)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Pa=Ca(Sa);function Ea(t,e){return Pa(xa(t,e,Xe),t+"")}function qa(t,e,r){if(!N(r))return!1;var s=typeof e;return(s=="number"?ee(r)&&Re(e,r.length):s=="string"&&e in r)?se(r[e],t):!1}function Aa(t){return Ea(function(e,r){var s=-1,n=r.length,i=n>1?r[n-1]:void 0,o=n>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(n--,i):void 0,o&&qa(r[0],r[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++s<n;){var l=r[s];l&&t(e,l,s,i)}return e})}var fr=Aa(function(t,e,r){cr(t,e,r)}),Da="[object Map]",Ia="[object Set]",Qa=Object.prototype,ja=Qa.hasOwnProperty;function Ra(t){if(t==null)return!0;if(ee(t)&&(I(t)||typeof t=="string"||typeof t.splice=="function"||le(t)||we(t)||ae(t)))return!t.length;var e=H(t);if(e==Da||e==Ia)return!t.size;if($e(t))return!Et(t).length;for(var r in t)if(ja.call(t,r))return!1;return!0}const Na={name:"FieldsGrid",widthClass(t,e){var n;const r=(t==null?void 0:t.split(","))||[],s=(n=r.at(e in r?e:-1))==null?void 0:n.trim();return s?`uk-width-${s}`:""},prepareField(t,e){var r;return((r=t.attrs)==null?void 0:r.class)==="yo-form-medium"&&(e=fr({},e,{attrs:{class:t.attrs.class}})),e}};var La=function(e,r){var s;return e("div",{staticClass:"yo-sidebar-grid uk-grid uk-flex-nowrap",class:((s=r.props.field.attrs)==null?void 0:s.class)==="yo-form-medium"?"uk-grid-small uk-margin-remove-bottom":`uk-grid-${r.props.field.gap||"medium"}`},r._l(r.parent.prepare(r.props.field.fields),function(n,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:r.parent.evaluate(n.show),expression:"parent.evaluate(field.show)"}],key:n.name,class:r.$options.widthClass(r.props.field.width,i)},[n.buttons?[e("div",{staticClass:"uk-flex uk-flex-middle uk-flex-right"},[n.label?e("div",{staticClass:"uk-width-expand"},[e("h3",{staticClass:"yo-sidebar-subheading uk-margin-remove"},[r._v(`
                        `+r._s(r.parent.$t(n.label))+`
                    `)])]):r._e(),r._v(" "),e("div",{staticClass:"uk-width-auto"},[e("ul",{staticClass:"uk-subnav uk-margin-remove"},r._l(n.buttons,function({label:o,action:l,show:a}){return e("li",{directives:[{name:"show",rawName:"v-show",value:r.parent.evaluate(a),expression:"parent.evaluate(show)"}],key:l},[e("button",{staticClass:"uk-button uk-button-link",attrs:{disabled:n.enable&&!r.parent.evaluate(n.enable),type:"button"},on:{click:function(u){return r.parent.$trigger(l,[n,u])}}},[r._v(`
                                `+r._s(o)+`
                            `)])])}),0)])])]:n.label?e("h3",{staticClass:"yo-sidebar-subheading"},[r._v(`
            `+r._s(r.parent.$t(n.label))+`
        `)]):r._e(),r._v(" "),n.type!=="description"?[["radio","checkbox","grid","parallax-stops"].includes(n.type)?e(n.component,{tag:"component",attrs:{field:r.$options.prepareField(r.props.field,n),values:r.props.values},on:{change:r.parent.change}}):e("div",{staticClass:"uk-margin-small"},[e(n.component,{tag:"component",attrs:{field:r.$options.prepareField(r.props.field,n),values:r.props.values},on:{change:r.parent.change}})],1)]:r._e(),r._v(" "),n.description?e("p",{staticClass:"uk-text-muted uk-margin-small",domProps:{innerHTML:r._s(r.parent.$t(n.description))}}):r._e()],2)}),0)},Ma=[],Ga=$(Na,La,Ma,!0),Ba=Ga.exports;const Ha={components:{FieldGrid:Ba},extends:q,props:{validation:{type:Boolean,default:!0}},methods:{merge:fr,markdown(t){return t.replace(/`([^`]+)`/g,'<code class="uk-text-nowrap">$1</code>')},validate(t){if(!this.validation)return!0;const e=v.get(this.values,t.name);return!(t.required&&Ra(e))}}};var Wa=function(){var e=this,r=e._self._c;return r("div",{staticClass:"uk-panel uk-margin-small-top"},e._l(e.fields,function(s){return r("div",{directives:[{name:"show",rawName:"v-show",value:e.evaluate(s.show),expression:"evaluate(field.show)"}],key:s.name,class:{"uk-margin-medium uk-margin-remove-bottom":s.label||s.type==="grid"}},[s.label?r("h3",{staticClass:"yo-sidebar-subheading"},[e._v(`
            `+e._s(e.$t(s.label))+`
        `)]):e._e(),e._v(" "),r("div",{staticClass:"uk-flex uk-flex-column uk-margin-small-top"},[r("div",[r(s.component,{tag:"component",attrs:{values:e.values,field:e.merge(s,{attrs:{class:e.validate(s)?"":" uk-form-danger"}})},on:{change:e.change}})],1),e._v(" "),s.description?r("div",{staticClass:"uk-text-muted uk-margin-small-top"},[r("span",{domProps:{innerHTML:e._s(e.markdown(e.$t(s.description)))}}),e._v(" "),s.reference?r("a",{staticClass:"uk-icon-link",attrs:{target:"_blank",href:s.reference,ratio:"0.7","uk-icon":"ye--link-external"}},[e._v(e._s(e.$t("Ref")))]):e._e()]):e._e()])])}),0)},za=[],Ka=$(Ha,Wa,za,!1),Ya=Ka.exports;const Xa={name:"FieldFilters",components:{Fields:Ya},props:{source:{type:Object,required:!0}},computed:{fields(){const t=y.getImplodeFields(),e=y.getFieldArgumentsFields(this.source.fieldSchema),r=y.getFieldFiltersFields(this.source.fieldSchema);return[...this.source.isMultipleSource?rt(t,"implode"):[],...rt(e,"arguments"),...rt(r,"filters")].filter(Boolean)}}};function rt(t,e){return t=v.deepCopy(t),pr(t,e),Object.values(t)}function pr(t,e){Object.entries(t).forEach(([r,s])=>{s.name=`${e}.${r}`,s.fields&&pr(s.fields,e)})}var Za=function(){var e=this,r=e._self._c;return r("Fields",{staticClass:"uk-margin-medium-top",attrs:{config:e.fields,values:e.source.values,validation:!0}})},Ja=[],Ua=$(Xa,Za,Ja,!1),Va=Ua.exports;const st=d.StateEffect.define(),Te=d.StateEffect.define(),fe=d.StateEffect.define(),nt=d.StateEffect.define(),hr=d.StateEffect.define(),it=d.StateEffect.define(),mr=d.StateField.define({create:()=>({}),update(t,e){for(const r of e.effects)r.is(fe)&&(t.activeWidget=r.value),r.is(hr)&&(t.activeWidget=null),r.is(Te)&&(t.hoveredWidget=r.value);return t}});var el=[mr];const tl=d.StateEffect.define(),rl=d.StateEffect.define(),sl=d.StateEffect.define(),nl=d.Annotation.define(),x=d.StateField.define({create:()=>({}),update(t){return t}}),pe=()=>v.uuid(4).toLowerCase(),il=(t,e)=>t.effects.find(r=>r.is(e)),ol=(t,e)=>t.annotations.find(r=>r.type===e);function te(t,e){return d.EditorState.transactionFilter.of(r=>{const s=il(r,t);return s?[r,e(r,s==null?void 0:s.value)].filter(Boolean):[r]})}function he(t){return t.sliceDoc(t.selection.main.from,t.selection.main.to)}const Ce=[],al=d.EditorView.domEventObservers({copy(t,e){const{types:r}=e.state.field(x);r.forEach(s=>{const i=e.state.field(x)[s.storage];[...he(e.state).matchAll(new RegExp(`{{ ${s.storage}\\.(\\w+) }}`,"g"))].map(a=>a[1]).filter(a=>i[a]).forEach(a=>ot(a,s,i[a]))})}}),ll=d.EditorState.transactionExtender.of(t=>{const{types:e}=t.state.field(x);e.forEach(r=>{const s=t.state.doc.toString(),i=t.state.field(x)[r.storage],o=[...s.matchAll(new RegExp(`{{ ${r.storage}\\.(\\w+) }}`,"g"))].map(l=>l[1]);Object.keys(i).filter(l=>!o.some(a=>a===l)).forEach(l=>{ot(l,r,i[l]),c.delete(i,l)}),o.forEach(l=>{const a=dl(l,r);a&&cl(t.state,a)})})}),ul=d.EditorState.transactionFilter.of(t=>{if(!t.docChanged)return t;const{types:e}=t.state.field(x),r=t.state.doc.toString();return[t,...e.flatMap(s=>{const i=[...r.matchAll(new RegExp(`{{ ${s.storage}\\.(\\w+) }}`,"g"))].map(o=>o[1]).filter((o,l,a)=>a.indexOf(o)!==l);if(i.length){const l=t.state.field(x)[s.storage];return i.map(a=>{const u=r.match(`{{ ${s.storage}.${a} }}`),f=pe(),p=v.deepCopy(l[a]);return c.set(l,f,p),{sequential:!0,changes:{from:u.index,to:u.index+u[0].length,insert:u[0].replace(a,f)}}})}})].filter(Boolean)});function ot(t,e,r){Ce.push({id:t,type:e.name,value:v.deepCopy(r)})}function cl(t,e,r=!0){const s=t.field(x),n=s.types.find(o=>o.name===e.type),i=s[n.storage];c.set(i,e.id,e.value),r&&Ce.splice(Ce.indexOf(e),1)}function dl(t,e){return Ce.find(r=>r.id===t&&r.type==e.name)}var fl=[al,ll,ul],pl=d.EditorView.theme({".ye-cm-widget":{lineHeight:"16px",fontSize:"10px",color:"#777",padding:"0 4px",border:"none",outline:"none",borderRadius:"3px",transform:"translateY(-1px)",transition:"box-shadow 0.2s","-webkit-user-select":"none","& .uk-text-meta":{fontSize:"9px"}},".ye-cm-widget-satellite":{cursor:"default"},".ye-cm-widget-dragged":{opacity:.6},".ye-cm-widget-selected:not(.ye-cm-widget-dragged)":{color:"white",background:"#69b4ff",borderRadius:"0px","& .uk-text-meta":{color:"white"}},".ye-cm-widget-active":{borderBottomLeftRadius:0,borderBottomRightRadius:0,boxShadow:"0 1px 0 0 #fff, 0 2px 0 0 #5294ec"},".ye-cm-widget-error":{borderBottomLeftRadius:0,borderBottomRightRadius:0,boxShadow:"0 1px 0 0 #fff, 0 2px 0 0 #e44e56"}});const hl={name:"WidgetTooltip",props:{view:{type:Object,required:!0},widget:{type:Object,required:!0},value:Object},data:()=>({layout:""}),watch:{layout(){this.value&&this.layout==="label"&&this.$nextTick(()=>{this.$refs.label.focus()})}},created(){this.keyEventsOff=_.on(window,"keydown",t=>{this.layout!=="label"&&(t.key==="Backspace"&&(this.view.dispatch({selection:{anchor:this.widget.from}}),this.widget.delete(),setTimeout(()=>{this.view.focus()},1)),t.key==="c"&&(t.metaKey||t.ctrlKey)&&this.copyWidgetClipboard(),t.key==="x"&&(t.metaKey||t.ctrlKey)&&this.cutWidgetClipboard(),(t.key==="ArrowLeft"||t.key==="ArrowRight")&&(this.view.dispatch({effects:fe.of(null),selection:{anchor:t.key==="ArrowLeft"?this.widget.from:this.widget.to}}),setTimeout(()=>{this.view.focus()},1)))})},destroyed(){this.keyEventsOff()},methods:{copyWidgetClipboard(){const e=this.view.state.doc.sliceString(this.widget.from,this.widget.to);navigator.clipboard.writeText(e)},cutWidgetClipboard(){const e=this.view.state.doc.sliceString(this.widget.from,this.widget.to);navigator.clipboard.writeText(e).then(()=>{this.view.dispatch({changes:{from:this.widget.from,to:this.widget.to,insert:""}}),setTimeout(()=>{this.view.focus()},1)})}}};var ml=function(){var e=this,r=e._self._c;return r("div",{staticClass:"cm-tooltip-widget"},[e.value?r("div",{directives:[{name:"show",rawName:"v-show",value:e.layout==="label",expression:"layout === 'label'"}],staticClass:"uk-inline uk-flex"},[r("span",{staticClass:"ye-builder-icon-label uk-disabled",staticStyle:{width:"24px"}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.value.label,expression:"value.label"}],ref:"label",staticClass:"uk-input uk-form-small",staticStyle:{"padding-left":"2px !important",border:"none",height:"22px"},attrs:{id:"widget-label",type:"text",placeholder:e.$t("Enter label")},domProps:{value:e.value.label},on:{keydown:function(s){if(!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter"))return null;e.layout=""},input:function(s){s.target.composing||e.$set(e.value,"label",s.target.value)}}})]):e._e(),e._v(" "),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.layout==="",expression:"layout === ''"}],staticClass:"uk-iconnav"},[e.widget.label?r("li",[r("a",{staticClass:"ye-builder-icon-label",attrs:{href:"","uk-tooltip":"delay: 500",title:e.$t("Label")},on:{click:function(s){s.preventDefault(),e.layout="label"}}})]):e._e(),e._v(" "),e.widget.edit?r("li",[r("a",{staticClass:"yo-builder-icon-edit",attrs:{href:"","uk-tooltip":"delay: 500",title:e.$t("Edit")},on:{click:function(s){return s.preventDefault(),e.widget.edit.apply(null,arguments)}}})]):e._e(),e._v(" "),r("li",[r("a",{staticClass:"yo-builder-icon-copy",attrs:{href:"","uk-tooltip":"delay: 500",title:e.$t("Copy")},on:{click:function(s){return s.preventDefault(),e.widget.copy.apply(null,arguments)}}})]),e._v(" "),r("li",[r("a",{staticClass:"yo-builder-icon-delete",attrs:{href:"","uk-tooltip":"delay: 500",title:e.$t("Delete")},on:{click:function(s){return s.preventDefault(),e.widget.delete.apply(null,arguments)}}})])])])},gl=[],yl=$(hl,ml,gl,!1),vl=yl.exports;const gr=d.StateField.define({create:()=>[],update(t,e){var n;const{Editor:r}=e.state.field(x),{activeWidget:s}=e.state.field(mr);return s?s.from===((n=t==null?void 0:t[0])==null?void 0:n.pos)?t:_l(r,s):[]},provide:t=>d.showTooltip.computeN([t],e=>e.field(t))});function _l(t,e){var s,n,i,o;return[{pos:{from:(n=(s=e.widgets.at(0).$el)==null?void 0:s.cmView)==null?void 0:n.posAtStart,to:(o=(i=e.widgets.at(0).$el)==null?void 0:i.cmView)==null?void 0:o.posAtEnd}.from,arrow:!0,above:!0,strictSide:!0,create:l=>{const a=new c({parent:t,extends:vl,propsData:{view:l,widget:e,value:e.value}}).$mount();return{dom:a.$el,offset:{x:8,y:0},destroy:()=>{a.$destroy()}}}}]}const bl=d.EditorView.baseTheme({".cm-tooltip-widget":{maxWidth:"100px",background:"white !important",borderRadius:"3px",boxShadow:"0 5px 10px rgba(0,0,0,.2),0 0 5px rgba(0,0,0,.02)"},".cm-tooltip-widget .uk-iconnav":{marginLeft:0,flexWrap:"nowrap","& > * ":{padding:0}}}),wl=d.keymap.of([{key:"Mod-/",run:()=>!0},{key:"Enter",run:me},{key:"ArrowUp",run:me},{key:"ArrowDown",run:me},{key:"ArrowLeft",run:me},{key:"ArrowRight",run:me}]);var $l=[gr,bl,wl];function me(t){var e;return(e=t.state.field(gr))==null?void 0:e.active}var xl=[pl,$l];const kl={name:"InsertOptions",props:{view:{type:Object,required:!0},options:{type:Array,required:!0}},data:()=>({active:null}),computed:{validOptions(){return this.options.filter(this.validate)}},created(){this.active=this.findNextOption(),this.keyEventsOff=_.on(window,"keydown",t=>{t.key==="ArrowUp"&&this.move("up"),t.key==="ArrowDown"&&this.move("down"),t.key==="ArrowLeft"&&this.$emit("backward"),t.key==="ArrowRight"&&this.$emit("forward",this.active),t.key==="Enter"&&this.resolve(),t.key.match(/Arrow|Enter/)&&t.preventDefault()})},destroyed(){this.keyEventsOff()},methods:{move(t){this.active=this.findNextOption(this.options.indexOf(this.active),t)},findNextOption(t=-1,e="down"){const r=this.options.length,s=e==="up"?-1:1;let n=(t+s+r)%r;for(;!this.validate(this.options[n])&&(n=(n+s+r)%r,n!==t););return this.options[n]},validate(t){return _.isFunction(t.validate)?t.validate(this.view):!0},resolve(){this.$emit("resolve",this.active)}}};var Sl=function(){var e=this,r=e._self._c;return r("div",{staticClass:"yo-dropdown-body"},[r("ul",{staticClass:"uk-nav uk-dropdown-nav ye-cm-dropdown-nav-hoverless"},e._l(e.options,function(s,n){return r("li",{key:n,staticClass:"uk-visible-toggle uk-position-relative",class:{"uk-active":e.active===s,"uk-disabled":!e.validate(s)}},[r("a",{staticClass:"uk-flex",attrs:{href:""},on:{pointerenter:function(i){e.active=s},click:function(i){return i.preventDefault(),i.stopPropagation(),e.resolve.apply(null,arguments)}}},[s.icon?r("span",{staticClass:"uk-flex-none",staticStyle:{margin:"0 10px 0 5px"},attrs:{width:"16","uk-icon":s.icon}}):e._e(),e._v(" "),r("span",[r("span",{staticClass:"uk-text-nowrap uk-text-truncate"},[e._v(`
                        `+e._s(s.title)+`
                    `)]),e._v(" "),r("span",{staticClass:"uk-nav-subtitle uk-text-muted uk-display-block"},[e._v(`
                        `+e._s(s.description)+`
                    `)])])])])}),0)])},Fl=[],Ol=$(kl,Sl,Fl,!1),Tl=Ol.exports;const Cl={name:"InsertDropOptions",components:{InsertOptions:Tl},inject:["$node","$field"],props:{view:Object,types:Array},data:()=>({selectedType:null}),mounted(){this.$el.focus(),this.keyEventsOff=_.on(window,"keydown",t=>{t.key==="Escape"&&this.close()}),this.mouseEventsOff=_.on(window,"mousedown",t=>{this.$el.contains(t.target)||this.$el===t.target||this.close()})},destroyed(){this.keyEventsOff(),this.mouseEventsOff()},methods:{resolve(t,e){this.view.focus(),this.view.dispatch({effects:st.of({type:this.selectedType,insert:t,data:e})}),this.close()},close(){this.$emit("close")}}};var Pl=function(){var s;var e=this,r=e._self._c;return r("div",{staticStyle:{outline:"none"},attrs:{tabindex:"0"}},[r("div",{staticClass:"cm-tooltip-arrow",staticStyle:{top:"1px",left:"-7px"}}),e._v(" "),r("div",{staticClass:"uk-dropdown ye-cm-dropdown",staticStyle:{"margin-left":"-14px"}},[e.selectedType?e.selectedType.inserts.length===1&&e.selectedType.inserts[0].component?r(e.selectedType.inserts[0].component,{tag:"component",attrs:{node:e.$node,field:e.$field,"max-height":"medium"},on:{resolve:n=>e.resolve(e.selectedType.inserts[0],n)}}):(s=e.selectedType)!=null&&s.inserts?r("InsertOptions",{key:"inserts",attrs:{view:e.view,options:e.selectedType.inserts},on:{resolve:e.resolve,backward:function(n){e.selectedType=null}}}):e._e():r("InsertOptions",{key:"types",attrs:{view:e.view,options:e.types},on:{resolve:n=>e.selectedType=n,forward:n=>e.selectedType=n}})],1)])},El=[],ql=$(Cl,Pl,El,!1),Al=ql.exports;const Dl={name:"InsertDrop",components:{InsertDropdown:Al},props:{view:Object,types:Array},data:()=>({showOptions:!1}),created(){this.keyEventsOff=_.on(window,"keydown",t=>{if(t.metaKey&&t.key==="/"){t.preventDefault(),t.stopPropagation(),this.showOptions=!0;return}}),this.mouseEventsOff=_.on(window,"mousedown",t=>{(this.$refs.drop.contains(t.target)||this.$refs.drop===t.target)&&(t.preventDefault(),t.stopPropagation())})},destroyed(){this.keyEventsOff(),this.mouseEventsOff()}};var Il=function(){var e=this,r=e._self._c;return r("div",{staticClass:"cm-tooltip-insert-drop"},[r("a",{directives:[{name:"show",rawName:"v-show",value:!e.showOptions,expression:"!showOptions"}],ref:"drop",staticClass:"yo-builder-icon-add-right",attrs:{title:e.$t("Insert Source")+" (cmd + /)","uk-tooltip":"delay: 500"},on:{click:function(s){s.stopPropagation(),s.preventDefault(),e.showOptions=!0}}}),e._v(" "),e.showOptions?r("InsertDropdown",{staticClass:"uk-margin-small-top",attrs:{types:e.types,view:e.view},on:{close:function(s){e.showOptions=!1}}}):e._e()],1)},Ql=[],jl=$(Dl,Il,Ql,!1),Rl=jl.exports;let at;const Nl=d.StateField.define({create:()=>[],update(t,e){const{Editor:r}=e.state.field(x);return at&&t.length&&!e.docChanged&&!e.selection?t:r.cm.hasFocus?Ll(e.state):[]},provide:t=>d.showTooltip.computeN([t],e=>e.field(t))});function Ll(t){const{Editor:e,types:r}=t.field(x);return t.selection.ranges.map(s=>({pos:s.to,strictSide:!0,create:()=>{const n=new c({parent:e,extends:Rl,propsData:{view:e.cm,types:r}}).$mount();return n.$watch("showOptions",i=>{at=i,i||e.cm.focus()}),{dom:n.$el,destroy:()=>{n.$destroy(),at=null}}}}))}var Ml=[Nl,d.EditorView.theme({".cm-tooltip-insert-drop > a":{width:"18px",height:"15px",margin:"5px 0 0 -9px",transform:"rotate(90deg)"},".cm-tooltip-insert-drop .cm-tooltip-arrow:after":{borderTopColor:"#e5e5e5 !important",borderBottomColor:"#e5e5e5 !important"}}),d.keymap.of([{key:"Mod-/",run:()=>!0}])];const lt=t=>t.$options.name.endsWith("Widget"),Gl=te(fe,(t,e)=>{const{Editor:r}=t.state.field(x),s=r.$children.filter(lt);s.forEach(n=>n.active=!1),e&&(s.find(n=>n.id===e.id).active=!0)}),Bl=te(Te,(t,e)=>{const{Editor:r}=t.state.field(x),s=r.$children.filter(lt);s.forEach(n=>n.highlighted=!1),e&&(s.find(n=>n.id===e.id).highlighted=!0)}),Hl=te(it,(t,e)=>{const{Editor:r}=t.state.field(x),s=r.$children.filter(lt);s.forEach(n=>n.highlighted=!1),e&&s.filter(n=>n.type.name===e.name).forEach(n=>n.highlighted=!0)});var Wl=[Bl,Gl,Hl];let Pe=null;const ut=d.StateEffect.define({map:({from:t,to:e},r)=>({from:r.mapPos(t),to:r.mapPos(e)})}),zl=d.Decoration.mark({class:"ye-cm-widget-dragged"}),Kl=d.StateField.define({create(){return d.Decoration.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)if(r.is(ut))return r.value?d.Decoration.set(zl.range(r.value.from,r.value.to)):d.Decoration.none;return t},provide:t=>d.EditorView.decorations.from(t)}),Yl=d.EditorView.domEventObservers({dragstart(t,e){var s;const r=(s=t.srcElement)==null?void 0:s.__vue__;r!=null&&r.type&&(ot(r.id,r.type,r.value),Pe=r)},drop(t,e){setTimeout(()=>{var r,s,n;e===Pe.view?e.dispatch({selection:{anchor:Pe.to}}):e.dispatch({selection:{anchor:(n=(s=(r=e.state.selection)==null?void 0:r.ranges)==null?void 0:s[0])==null?void 0:n.to}}),Pe=null},1)}});var Xl=[Kl,Yl];const Zl={name:"Widget",inject:{Editor:{},$node:{},$field:{}},props:{id:{type:String,required:!0},type:{type:[Object,Function],required:!0},view:{type:Object,required:!0},satellite:{type:Boolean,default:!1},value:Object},data:()=>({active:!1,dragged:!1,highlighted:!1}),computed:{title(){return this.type.title},label(){var t;return((t=this.value)==null?void 0:t.label)||this.title},error(){return!1},isActive(){return this.widgets.some(t=>t.active)},isHighlighted(){return this.widgets.some(t=>t.highlighted)},isDraggable(){var t,e;return!((e=(t=this.Editor.selection)==null?void 0:t.ranges)!=null&&e.some(r=>!r.empty))},isSelected(){var t,e;return(e=(t=this.Editor.selection)==null?void 0:t.ranges)==null?void 0:e.some(r=>r.from<=this.from&&r.to>=this.to)},widgets:{get(){return this.Editor.$children.filter(t=>t.id===this.id)},cache:!1},innerWidgets:{get(){return this.Editor.$children.filter(t=>t.id!==this.id&&t.from>this.from&&t.to<this.to)},cache:!1},from:{get(){var t,e;return(e=(t=this.widgets.at(0).$el)==null?void 0:t.cmView)==null?void 0:e.posAtStart},cache:!1},to:{get(){var t,e;return(e=(t=this.widgets.at(-1).$el)==null?void 0:t.cmView)==null?void 0:e.posAtEnd},cache:!1}},watch:{dragged(t){A.tooltip(this.$el).hide(),t?([...this.widgets,...this.innerWidgets].forEach(e=>e.dragged=!0),this.view.dispatch({effects:ut.of({from:this.from,to:this.to})})):([...this.widgets,...this.innerWidgets].forEach(e=>e.dragged=!1),this.view.dispatch({effects:ut.of(null)}))}},created(){this.keyEventsOff=_.on(window,"keydown",t=>(t.key==="Escape"&&this.setInactive(),!1)),this.onWindowClickOff=_.on(window,"click",t=>{this.active&&!t.target.closest(".cm-tooltip-widget")&&this.setInactive()})},beforeDestroy(){var t,e;this.active&&this.$nextTick(()=>{this.setInactive()}),(t=this.keyEventsOff)==null||t.call(this),(e=this.onWindowClickOff)==null||e.call(this)},methods:{edit(){},onClick(){},setActive(){if(A.tooltip(this.$el).hide(),this.active&&this.value){this.edit(),this.setInactive();return}this.view.dispatch({effects:fe.of(this)})},setInactive(){A.tooltip(this.$el).hide(),this.view.dispatch({effects:fe.of(null)})},hoverIn(){this.view.dispatch({effects:Te.of(this)})},hoverOut(){this.view.dispatch({effects:Te.of(null)})},copy(){this.view.dispatch({effects:nt.of(this)})},delete(){this.view.dispatch({effects:hr.of(this),changes:{from:this.from,to:this.to,insert:""}})}}};var Jl=function(){var e=this,r=e._self._c;return r("button",{class:["ye-cm-widget",`ye-cm-widget-${e.type.name}`,{"ye-cm-widget-error":e.error,"ye-cm-widget-active":e.isActive||e.isHighlighted,"ye-cm-widget-dragged":e.dragged,"ye-cm-widget-selected":e.isSelected,"ye-cm-widget-satellite":e.satellite}],attrs:{type:"button",title:e.title,"uk-tooltip":"delay: 500",draggable:e.isDraggable&&!e.satellite},on:{dragstart:function(s){e.dragged=!0},dragend:function(s){e.dragged=!1},click:function(s){s.stopPropagation(),!e.satellite&&e.onClick()},pointerenter:e.hoverIn,pointerleave:e.hoverOut}},[r("span",{staticClass:"ye-cm-widget-label",domProps:{innerHTML:e._s(e.label)}})])},Ul=[],Vl=$(Zl,Jl,Ul,!1),yr=Vl.exports,eu=$({name:"SourceWidget",extends:yr,inject:["$node","$field"],computed:{source(){return new F(this.value,this.$node)},title(){return this.source.pathOverview},label(){var t,e;return(t=this.value)!=null&&t.label?this.value.label:(e=this.value)!=null&&e.composed?this.$t("Composed"):this.source.field?`${this.source.fieldOverview} <span class="uk-text-meta">${this.source.fieldSchemaType.toLowerCase()}</span>`:this.$t("Source")},error(){return this.source.field&&!this.source.isFieldValid}},methods:{edit(){var t;(t=this.value)!=null&&t.composed?this.openComposedPanel():this.openSourcePanel()},async onClick(){if(this.value){if(this.isActive){this.remap();return}this.setActive()}},async remap(){var e;if(this.remapping)return;if((e=this.value)!=null&&e.composed){this.edit();return}this.remapping=!0;const t=await h.uikit.promptDropdown(de,{base:this.source.basePath,path:this.source.path.replace(this.source.basePath+".",""),maxHeight:"medium",maxNesting:this.source.queryField?0:1},this.$el,{flip:!1,stretch:!1,container:this.$el.closest(".ye-composed-field").parentNode,classes:"uk-dropdown ye-dropdown ye-cm-dropdown ye-dynamic-dropdown",boundaryX:this.$el.closest(".yo-sidebar-fields > *")||this.$el});t&&(this.source.queryField=null,this.source.field=t),this.remapping=!1},copy(){const{sources:t}=this.view.state.field(x);if(!t[this.id])return;const e=pe();c.set(t,e,v.deepCopy(t[this.id])),this.view.dispatch({effects:nt.of(this),changes:{from:this.to,insert:this.view.state.sliceDoc(this.from,this.to).replace(this.id,e)}})},openComposedPanel(){this.$trigger("openDynamicPanel",{...h.customizer.panels["yooessentials-composed"],name:`yooessentials-composed-${this.id}`,props:{id:this.id,node:this.$node,values:this.value.composed,inject:{$field:this.$field}}})},openSourcePanel(){this.$trigger("openSourcePanel",{...h.customizer.panels["yooessentials-source"],name:`yooessentials-source-composed-${this.id}`,props:{node:this.$node,field:this.$field,values:this.source.values}})}}},null,null,!1),tu=eu.exports;class Ee extends d.WidgetType{constructor({id:e,type:r,component:s,...n}){super(),this.id=e,this.type=r,this.props=n,this.component=s}toDOM(e){const{Editor:r}=e.state.field(x);return this.view=e,this.vm=new c({parent:r,extends:this.component,propsData:{view:e,id:this.id,type:this.type,...this.props}}).$mount(),this.vm.$el}ignoreEvent(e){return e.type==="dragstart"?(e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",!1):!0}eq(e){return e.id===this.id}updateDom(){return!0}destroy(){var e;(e=this.vm)==null||e.$destroy(),super.destroy()}}class M{static validate(e){return!he(e.state)}static countTotal(e){const{sources:r}=e.state.field(x);return Object.keys(r).length}}C(M,"name","source"),C(M,"title","Source"),C(M,"group","source"),C(M,"storage","sources"),C(M,"icon","ye--dynamic"),C(M,"description","Insert a dynamic source"),C(M,"inserts",[{insertable:e=>`{{ sources.${e} }}`,selectionOffset:18,component:Ue}]);const vr=new d.MatchDecorator({regexp:/{{ sources\.(\w{4}) }}/g,decoration:(t,e)=>{const r=t[1],{sources:s}=e.state.field(x),n=v.get(s,r);if(n)return d.Decoration.replace({widget:new Ee({id:r,value:n,type:M,component:tu})})}}),ru=te(st,(t,{type:e,insert:r,data:s})=>{var l;if(e.name!==M.name)return;const{sources:n}=t.state.field(x),i=pe();c.set(n,i,s);const o=he(t.state);return{selection:{anchor:t.state.selection.main.from+((l=r.selectionOffset)!=null?l:0)},changes:{from:t.state.selection.main.from,to:t.state.selection.main.to,insert:r.insertable(i,o)}}}),su=d.EditorView.theme({".ye-cm-widget-source":{background:"rgb(235, 244, 255)"}});var nu=d.ViewPlugin.fromClass(class{constructor(t){C(this,"decorations");this.decorations=vr.createDeco(t),t.state.field(x).types.push(M)}update(t){this.decorations=vr.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations,provide:t=>[su,ru,d.EditorView.atomicRanges.of(e=>e.plugin(t).decorations||d.Decoration.none)]});function _r(t){const e=/{{ conditions\.(\w{4}) }}/g,r=/{{ else }}/g,s=/{{ \/ }}/g,n=[...t.matchAll(e)],i=[...t.matchAll(r)],o=[...t.matchAll(s)],l=t.split(`
`),a=b=>{let w=0;for(let T=0;T<l.length;T++)if(w+=l[T].length+1,w>b)return T;return l.length-1},u=new Map;for(const b of n){const w=a(b.index);u.set(b.index,{line:w,id:b[1]})}for(const b of i){let w=null,T=-1;for(const[E,j]of u.entries())E<b.index&&E>T&&(w=j,T=E);if(w&&a(b.index)!==w.line)return!1}for(const b of o){let w=null,T=-1;for(const[E,j]of u.entries())E<b.index&&E>T&&(w=j,T=E);if(w&&a(b.index)!==w.line)return!1}const f=/{{ (conditions\.(\w{4})|else|\/) }}/g,p=[...t.matchAll(f)],m=[];let O=!1;for(const b of p){const[,w]=b;if(w.startsWith("conditions.")){if(O)return!1;O=!0,m.push({type:"conditions",hasElse:!1})}else if(w==="else"){if(m.length===0)return!1;const T=m[m.length-1];if(T.hasElse)return!1;T.hasElse=!0}else if(w==="/"){if(m.length===0)return!1;O=!1,m.pop()}}return m.length===0}var iu=$({name:"ConditionWidget",extends:yr,inject:["$field"],props:{satellite:{type:String}},computed:{label(){var t;return this.satellite||((t=this.value)==null?void 0:t.label)||this.type.title}},methods:{onClick(){if(this.value){if(this.isActive){this.edit();return}this.setActive()}},edit(){this.$trigger("openDynamicPanel",{...h.customizer.panels["yooessentials-composed-condition"],name:`yooessentials-composed-condition-${this.id}`,composed:{source:this.id,field:this.$field.name},props:{node:this.$node,values:this.value}})},copy(){const{conditions:t}=this.view.state.field(x);if(!t[this.id])return;const e=pe();c.set(t,e,v.deepCopy(t[this.id])),this.view.dispatch({effects:nt.of(this),changes:{from:this.to,insert:this.view.state.sliceDoc(this.from,this.to).replace(this.id,e)}})}}},null,null,!1),ct=iu.exports;const P=class P{static validate(e){return P.inserts.filter(r=>r.validate).some(r=>r.validate(e))}static validateInsert(e,r){const s="xxxx",n=he(e.state),i=r.insertable(s,n),o=e.state.doc.replace(e.state.selection.main.from,e.state.selection.main.to,d.Text.of([i]));return _r(o.toString())}static countTotal(e){var s,n;const r=(n=(s=e.state.field(x))==null?void 0:s.conditions)!=null?n:{};return Object.keys(r).length}};C(P,"name","condition"),C(P,"title","Condition"),C(P,"storage","conditions"),C(P,"icon","ye--composed-condition"),C(P,"description","Insert a conditional expression"),C(P,"panel","yooessentials-composed-condition"),C(P,"inserts",[{title:"Condition",description:"Insert a condition",insertable:(e,r="")=>`{{ conditions.${e} }}${r}{{ / }}`,selectionOffset:21,validate:e=>P.validateInsert(e,P.inserts[0])},{title:"Condition/Else",description:"Insert a condition with an else branch",insertable:(e,r="")=>`{{ conditions.${e} }}${r}{{ else }}{{ / }}`,selectionOffset:21,validate:e=>P.validateInsert(e,P.inserts[1])},{title:"Else",description:"Insert an else clause within a condition",insertable:()=>"{{ else }}",validate:e=>P.validateInsert(e,P.inserts[2])}]);let V=P;const br=new d.MatchDecorator({regexp:/({{ conditions\.(\w{4}) }}).*?(?:({{ else }}).*?)??({{ \/ }})/g,decorate:(t,e,r,s,n)=>{const{conditions:i}=n.state.field(x),o=s[2],l=e,a=v.get(i,o);a&&(t(e,e+s[1].length,d.Decoration.replace({widget:new Ee({id:o,value:a,type:V,component:ct})})),s[3]&&(e=l+s[0].indexOf(s[3]),t(e,e+s[3].length,d.Decoration.replace({widget:new Ee({id:o,satellite:"else",type:V,component:ct})}))),e=l+s[0].indexOf(s[4]),t(e,e+s[4].length,d.Decoration.replace({widget:new Ee({id:o,satellite:"/",type:V,component:ct})})))}}),ou=te(st,(t,{type:e,insert:r})=>{var o;if(e.name!==V.name)return;const{conditions:s}=t.state.field(x),n=pe();c.set(s,n,{});const i=he(t.state);return{selection:{anchor:t.state.selection.main.from+((o=r.selectionOffset)!=null?o:0)},changes:{from:t.state.selection.main.from,to:t.state.selection.main.to,insert:r.insertable(n,i)}}}),au=d.EditorState.transactionFilter.of(t=>_r(t.newDoc.toString())?[t]:!1),lu=d.EditorView.theme({".ye-cm-widget-condition":{background:"rgb(245, 232, 215)"}});var uu=d.ViewPlugin.fromClass(class{constructor(t){C(this,"decorations");this.decorations=br.createDeco(t),t.state.field(x).types.push(V)}update(t){this.decorations=br.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations,provide:t=>[lu,au,ou,d.EditorView.atomicRanges.of(e=>e.plugin(t).decorations||d.Decoration.none)]}),cu=[Wl,el,fl,Ml,Xl,nu,uu,xl];const du={name:"BottomPanel",props:{view:Object,types:Array},data(t){return{composed:t.view.state.field(x)}},methods:{hoverIn(t){this.view.dispatch({effects:it.of(t)})},hoverOut(){this.view.dispatch({effects:it.of(null)})}}};var fu=function(){var e=this,r=e._self._c;return r("div",{staticClass:"uk-flex uk-flex-middle uk-flex-between"},[r("span",{staticClass:"uk-flex uk-flex-middle uk-flex-between uk-visible-toggle"},e._l(e.types,function(s){return r("span",{key:s.name,class:["ye-cm-panel-label uk-margin-xsmall-right",`ye-cm-widget-${s.name}`],attrs:{title:`${s.title}s`,"uk-tooltip":""},on:{click_:function(n){return n.preventDefault(),n.stopPropagation(),e.$emit("showSourcesDrop",n.currentTarget,s)},pointerenter:function(n){return e.hoverIn(s)},pointerleave:e.hoverOut}},[r("span",{attrs:{"uk-icon":s.icon,ratio:"0.9"}}),e._v(" "),r("span",{staticClass:"uk-text-meta",staticStyle:{"margin-left":"2px","margin-top":"1px"}},[e._v("x"+e._s(s.countTotal(e.view)))])])}),0)])},pu=[],hu=$(du,fu,pu,!1),mu=hu.exports;d.StateEffect.define(),d.StateEffect.define(),d.Facet.define({combine:t=>t.flat()});function gu(t){const{types:e,sources:r,Editor:s}=t.state.field(x);return new c({parent:s,extends:mu,propsData:{view:t,types:e,sources:r}}).$mount().$el}var yu=[d.showPanel.of(t=>({dom:gu(t),update(e){const s=e.transactions.map(n=>n.effects).flat().find(n=>n.is(rl));s&&this.dom.__vue__.setStatus(s==null?void 0:s.value)},destroy(){this.dom.__vue__.$destroy()}})),d.EditorView.theme({".cm-panels":{position:"inherit",zIndex:"0"},".cm-panels-bottom":{padding:"8px","& .ye-cm-panel-label":{height:"16px",padding:"0 4px",lineHeight:"inherit",fontSize:"9px",borderRadius:"3px",outline:"inherit",display:"inline-flex",alignItems:"center",cursor:"default",border:"1px solid #cacaca",color:"#777",overflow:"visible",boxSizing:"border-box",fontFamily:'Montserrat, "Helvetica Neue", Arial, sans-serif',"& .uk-button.uk-disabled":{"&, & .uk-text-meta":{color:"#bbb"}}}}})];const dt=new d.Compartment,re=" ".repeat(4),ft=[yu,d.lineNumbers(),d.indentUnit.of(re),d.EditorView.lineWrapping,d.EditorView.theme({"&":{padding:"0 !important"},"& .cm-scroller":{minHeight:"250px !important",resize:"vertical"}}),d.keymap.of([{key:"Enter",preventDefault:!0},{key:"Tab",preventDefault:!0,run(t){const{from:e}=t.state.selection.main;t.dispatch({changes:{from:e,to:e,insert:re},selection:{anchor:e+re.length}})}},{key:"Shift-Tab",preventDefault:!0,run(t){const{from:e}=t.state.selection.main,r=t.state.doc.lineAt(e);r.text.startsWith(re)&&t.dispatch({changes:{from:r.from,to:r.from+re.length,insert:""},selection:{anchor:e-re.length}})}}])];function vu(t){const e=dt.get(t.state)===ft;t.dispatch({effects:dt.reconfigure(e?[]:ft)})}function _u(t){return[dt.of(t?ft:[])]}var bu=d.EditorView.theme({"&":{height:"100%",paddingRight:"55px",lineHeight:"initial"},"&.cm-focused":{borderColor:"#3696f3",transition:".2s ease-in-out",transitionProperty:"color, background-color, border"},".cm-content":{padding:"10px 0"},".cm-scroller":{height:"38px",minHeight:"38px"},".cm-selectionBackground":{background:"#5297F7 !important"},".cm-line":{padding:"0",lineHeight:"20px"},".cm-line::selection":{color:"white !important"},".cm-tooltip":{border:"none",backgroundColor:"transparent"},".cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTop:"none",borderBottom:"none"},"&:after":{borderTopColor:"white",borderBottomColor:"white"}}});const wu={name:"ComposedEditor",provide(){return{Editor:this,$field:this.field}},props:{value:{type:String,required:!0},sources:{type:Object,required:!0},conditions:{type:Object,required:!0},field:{type:Object,required:!0},multiline:{type:Boolean,default:!1}},data:()=>({frozen:!1,selection:null}),computed:{sourceWidgets:{get(){const t=this.$children.filter(e=>e.$options.name.startsWith("Widget"));return v.groupBy(t,"group")},cache:!1}},created(){this.$watch("multiline",()=>vu(this.cm))},mounted(){var t;this.cm=d.createEditor({parent:this.$el,value:this.value,selection:{anchor:((t=this.value)==null?void 0:t.length)||0},onChange:(e,r)=>{var s;e!==this.value&&(this.$emit("change",r),!((s=r.transactions)!=null&&s.some(n=>ol(n,nl)))&&this.$emit("input",e))},setup:[bu,d.html(),d.history(),d.keymap.of(d.historyKeymap),d.syntaxHighlighting(d.defaultHighlightStyle,{fallback:!0}),d.EditorView.focusChangeEffect.of((e,r)=>tl.of(r)),cu,x.init(()=>({types:[],orphans:[],Editor:this,sources:this.sources,conditions:this.conditions})),_u(this.multiline),d.EditorState.transactionExtender.of(e=>{this.$emit("transaction",e)}),d.EditorView.updateListener.of(e=>{this.selection=e.state.selection,this.$emit("update",e)}),te(sl,(e,r)=>{this.frozen=r})]})},destroyed(){this.cm.destroy()}};var $u=function(){var e=this,r=e._self._c;return r("div")},xu=[],ku=$(wu,$u,xu,!1),wr=ku.exports;const Su={name:"ComposedEditorField",components:{ComposedEditor:wr},extends:q.components.FieldText,inject:["$field"],created(){const t=e=>_.isObject(e)&&!_.isArray(e);t(this.values.sources)||c.set(this.values,"sources",{}),t(this.values.conditions)||c.set(this.values,"conditions",{})}};var Fu=function(){var e=this,r=e._self._c;return r("div",{staticClass:"ye-composed-field uk-position-relative uk-textarea uk-padding-remove"},[r("ComposedEditor",{attrs:{field:e.$field,sources:e.values.sources,conditions:e.values.conditions,multiline:""},model:{value:e.value,callback:function(s){e.value=s},expression:"value"}})],1)},Ou=[],Tu=$(Su,Fu,Ou,!1),Cu=Tu.exports;const Pu={name:"ComposedCondition",extends:q.components.FieldYooessentialsConditionRules,computed:{logs:{get(){var i,o,l,a;const t=(g==null?void 0:g.logs)||{},e=g.yoo.Builder.id(this.$node),{field:r,source:s}=((l=(o=(i=g.yoo)==null?void 0:i.Sidebar)==null?void 0:o.panel)==null?void 0:l.composed)||{},n=`${e}#${r}#${s}`;return(a=t.composed)==null?void 0:a[n]},cache:!1}}};var Eu=$(Pu,null,null,!1),qu=Eu.exports;const Au={name:"SourceField",extends:q.components.FieldText,inject:["$node"],computed:{source(){return new F(this.values,this.$node)}},methods:{async select(){const t=await h.uikit.promptDropdown(de,{base:this.source.basePath,path:this.source.field,maxNesting:0},this.$el,{flip:!1,classes:"yo-dropdown"});t!==void 0&&(this.source.field=t)}}};var Du=function(){var e=this,r=e._self._c;return e.attributes.disabled?r("input",{staticClass:"uk-input",attrs:{disabled:""},domProps:{innerHTML:e._s(e.value)}}):r("div",{class:["uk-cursor-default uk-inline uk-select",e.attributes.class,{"uk-form-danger":e.source.field&&!e.source.isFieldValid}],on:{click:function(s){return s.preventDefault(),e.select.apply(null,arguments)}}},[e.source.field?r("div",{staticClass:"uk-disabled uk-text-truncate"},[r("span",{domProps:{innerHTML:e._s(e.source.fieldOverview)}}),e._v(" "),e.source.fieldSchemaType?r("span",{staticClass:"uk-text-meta"},[e._v(e._s(e.source.fieldSchemaType))]):e._e()]):e._e()])},Iu=[],Qu=$(Au,Du,Iu,!1),ju=Qu.exports;const Ru={name:"SourceFieldFilters",components:{FieldFilters:Va},extends:q.components.FieldText,inject:["$node"],computed:{source(){return new F(this.values,this.$node)}}};var Nu=function(){var e=this,r=e._self._c;return r("FieldFilters",{attrs:{node:e.$node,source:e.source}})},Lu=[],Mu=$(Ru,Nu,Lu,!1),Gu=Mu.exports;const Bu={name:"YooessentialsSourceQuery",extends:q.components.FieldText,inject:{$node:{},$source:{default:null}},computed:{source(){var t;return new F((t=this.$source)!=null?t:this.$node.source,this.$node)},matchedOption(){return g.helpers.Dynamic.matchOptions(this.$node,this.source)},omittedOptions(){const t=this.field.omittedOptions||[];return this.$source?[...t,"composed"]:[...t,"node","composed"]},nullable(){return!this.$source},value:{get(){return this.$source?this.source.query:k.getQuery(this.$node)},set(t){this.$source?this.source.query=t:k.setQuery(this.$node,t)}}},methods:{async select(){const t=this.nullable&&this.source.query;let e=this.value;this.source.isInheriting&&(e=""),this.source.isQueryValid||(e="");const[r,s]=await h.uikit.promptDropdown(rr,{path:e,node:this.$node,isSelected:n=>{var o,l;const i=(l=(o=this.source.values.query)==null?void 0:o.name)!=null?l:"";return i===n.path||i.startsWith(n.path+".")},options:g.helpers.Dynamic.matchOptions(this.$node).filter(n=>!this.omittedOptions.includes(n.name)),additionalFields:[t?{text:this.$t("None"),value:""}:null].filter(Boolean)},this.$el,{flip:!1,classes:"yo-dropdown"})||[];r!==void 0&&(s!=null&&s.directResolve?s.directResolve(this.$node,null,this.value):this.value=r,s!=null&&s.resolve&&s.resolve(this.value))}}};var Hu=function(){var s,n;var e=this,r=e._self._c;return r("div",{class:["uk-cursor-default uk-inline uk-select",e.attributes.class,{"uk-form-danger":e.source.query&&!e.source.isQueryValid}],on:{click:function(i){return i.preventDefault(),e.select.apply(null,arguments)}}},[r("div",{staticClass:"uk-disabled uk-text-truncate"},[r("span",{domProps:{innerHTML:e._s(e.source.queryOverview)}}),e._v(" "),e.source.querySchemaType?r("span",{staticClass:"uk-text-meta"},[e._v(e._s((n=(s=e.source.querySchemaType)==null?void 0:s.metadata)==null?void 0:n.label))]):e._e()])])},Wu=[],zu=$(Bu,Hu,Wu,!1),$r=zu.exports,xr={name:"YooessentialsSourceQueryArgs",inject:{$source:{default:null}},props:{field:Object,values:Object},render(t){var n,i,o,l;const{node:e}=this.$parent,r=new F((n=this.$source)!=null?n:e.source,e),s=(o=(i=r.querySchema)==null?void 0:i.metadata)==null?void 0:o.fields;return r.isInheriting||_.isEmpty(s)?null:(r.isNodeSource=!0,r.values.query&&!((l=r.values.query)!=null&&l.arguments)&&c.set(r.values.query,"arguments",{}),t(ge.FieldsPanel,{source:r,key:r.query,props:{panel:{name:"yooessentials-source-query-args",fields:s},values:r.queryArguments},on:{change(a,{name:u}){r.setQueryArgument(u,a)}}},[]))}};const Ku={name:"YooessentialsSourceQueryField",extends:q.components.FieldText,inject:{Builder:{},$node:{},$source:{default:null}},computed:{source(){var t;return new F((t=this.$source)!=null?t:this.$node.source,this.$node)},value:{get(){return this.source.queryField},set(t){this.source.queryField=t}}},methods:{async select(){const t=await h.uikit.promptDropdown(de,{base:this.source.queryPath,path:this.value,fieldType:"LIST",resolvable:e=>e.kind==="LIST",additionalFields:[this.value&&{text:this.$t("None"),value:""}].filter(Boolean)},this.$el,{flip:!1,classes:"yo-dropdown"});t!==void 0&&(this.value=t)}}};var Yu=function(){var s,n;var e=this,r=e._self._c;return r("div",{class:["uk-cursor-default uk-inline uk-select",e.attributes.class,{"uk-form-danger":e.source.queryField&&!e.source.isQueryFieldValid}],on:{click:function(i){return i.preventDefault(),e.select.apply(null,arguments)}}},[r("div",{staticClass:"uk-disabled uk-text-truncate"},[e.source.queryField?[r("span",{domProps:{innerHTML:e._s(e.source.queryFieldOverview)}}),e._v(" "),e.source.querySchemaType?r("span",{staticClass:"uk-text-meta"},[e._v(e._s((n=(s=e.source.querySchemaType)==null?void 0:s.metadata)==null?void 0:n.label))]):e._e()]:[e._v(`
            `+e._s(e.$t("None"))+`
        `)]],2)])},Xu=[],Zu=$(Ku,Yu,Xu,!1),kr=Zu.exports,Sr={name:"YooessentialsSourceQueryFieldArgs",inject:{$source:{default:null}},props:{field:Object,values:Object},render(t){var n,i,o;const{node:e}=this.$parent,r=new F((n=this.$source)!=null?n:e.source,e),s=(o=(i=r.queryFieldSchema)==null?void 0:i.metadata)==null?void 0:o.arguments;return r.isInheriting||_.isEmpty(s)?null:(r.isNodeSource=!0,t(ge.FieldsPanel,{source:r,props:{panel:{name:"yooessentials-source-query-field-args",fields:s},values:r.queryFieldArguments},on:{change(l,{name:a}){r.setQueryFieldArgument(a,l)}},key:`args-${r.query}-${r.queryField}`},[]))}},Fr={name:"YooessentialsSourceQueryFieldDirectives",inject:{$source:{default:null}},props:{field:Object,values:Object},render(t){var i,o;const{node:e}=this.$parent,r=new F((i=this.$source)!=null?i:e.source,e);if(!r.queryFieldSchema)return null;const n=(((o=r.queryFieldSchema.metadata)==null?void 0:o.directives)||["slice"]).filter(l=>{var a,u,f;return(f=(u=(a=h.builder)==null?void 0:a.sources)==null?void 0:u.directives)==null?void 0:f[l]}).map(l=>({type:"source-field-directive",name:l,...h.builder.sources.directives[l]}));return n.length?t(ge.FieldsPanel,{props:{panel:{fields:n}},key:`directives-${r.query}-${r.queryField}`},[]):null}},Ju=Object.freeze({__proto__:null,FieldYooessentialsComposed:Cu,FieldYooessentialsComposedCondition:qu,FieldYooessentialsSourceField:ju,FieldYooessentialsSourceFieldFilters:Gu,FieldYooessentialsSourceQuery:$r,FieldYooessentialsSourceQueryArgs:xr,FieldYooessentialsSourceQueryField:kr,FieldYooessentialsSourceQueryFieldArgs:Sr,FieldYooessentialsSourceQueryFieldDirectives:Fr});const Uu={name:"ComposedField",components:{ComposedEditor:wr},inject:["$node"],props:{field:{type:Object,required:!0},source:{type:Object,required:!0}},data:()=>({multiline:!1}),computed:{isEditorType(){return this.field.type==="editor"},isExpandable(){var t,e;return!this.isEditorType&&!((e=(t=this.source.composed)==null?void 0:t.value)!=null&&e.includes(`
`))}},watch:{"source.composed.value":{immediate:!0,handler(t){(this.isEditorType||t.includes(`
`))&&(this.multiline=!0)}}},created(){const t=e=>_.isObject(e)&&!_.isArray(e);t(this.source.composed.sources)||c.set(this.source.composed,"sources",{}),t(this.source.composed.conditions)||c.set(this.source.composed,"conditions",{})},mounted(){var t;(t=this.source.composed)!=null&&t.new&&(c.delete(this.source.composed,"new"),this.$refs.editor.cm.focus())},methods:{toggleMultiline(t){var r,s;if((s=(r=this.$refs)==null?void 0:r.editor)!=null&&s.frozen)return;const e=t.target.nodeName!=="a"?t.srcElement.closest("a"):t.target;A.tooltip(e).hide(),this.multiline=!this.multiline}}};var Vu=function(){var e=this,r=e._self._c;return r("div",{staticClass:"ye-composed-field uk-position-relative",class:{"uk-input":!e.multiline,"uk-textarea uk-padding-remove":e.multiline}},[r("ComposedEditor",{ref:"editor",staticClass:"uk-flex-1",attrs:{field:e.field,sources:e.source.composed.sources,conditions:e.source.composed.conditions,multiline:e.multiline},model:{value:e.source.composed.value,callback:function(s){e.$set(e.source.composed,"value",s)},expression:"source.composed.value"}}),e._v(" "),r("ul",{class:`uk-iconnav uk-flex-middle uk-position-${e.multiline?"bottom":"center"}-right uk-position-small`},[e.isExpandable?r("li",[r("a",{staticClass:"uk-icon-link",attrs:{"uk-icon":e.multiline?"shrink":"expand",ratio:"0.9","uk-tooltip":`delay: 500; title: ${e.multiline?e.$t("Shrink"):e.$t("Expand")}`},on:{click:e.toggleMultiline}})]):e._e(),e._v(" "),r("li",[r("a",{staticClass:"uk-icon-link",attrs:{"uk-icon":"trash","uk-tooltip":"delay: 500",title:e.$t("Remove")},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.$emit("remove")}}})])])],1)},ec=[],tc=$(Uu,Vu,ec,!1),Or=tc.exports;Y.before("app.init",({extend:t})=>{t({events:{prepareFields:{handler({origin:{node:e,panel:r}},s){var n;if(!((n=r==null?void 0:r.name)!=null&&n.startsWith("yooessentials-source-query"))&&e)for(const i of s){if(!i.source)continue;i.buttons=i.buttons||[],i.buttons=i.buttons.filter(l=>l.action!=="pickSource");const o=k.getProp(e,i);if(i.buttons.push({label:this.$t("Dynamic"),action:"essentialsPickQuery",show:!o}),o){const l=new F(o,e);i.component={functional:!0,render:a=>a(o!=null&&o.composed?Or:tr,{props:{field:i,source:l},on:{remove(){k.removeProp(e,i)},compose(){k.setProp(e,i,Je(l.values))}}})}}}},priority:-5},evaluateExpression({origin:{node:e},params:r},s,n){var i;r[1]={...n,...((i=e==null?void 0:e.source_extended)==null?void 0:i.props)||{}}},openComposedPanel(e,r){c.events.trigger("openPanel",{...h.customizer.panels["yooessentials-source"],...r,heading:!(r!=null&&r.fieldset),component:{extends:De.BuilderPanel,provide(){var s;return{$field:(s=r==null?void 0:r.props)==null?void 0:s.field}}}})}}})}),Y.before("app.init",({extend:t})=>{t({events:{prepareFields:{handler({origin:{$vnode:e,panel:r,$parent:s}},n){var a;if(!((a=r==null?void 0:r.name)!=null&&a.startsWith("yooessentials-source-query-args")))return;const i=r==null?void 0:r.name.replace("yooessentials-source-",""),o=e.data.source,l=s.$parent.node;if(l)for(const u of n){if(!u.source)continue;u.origin=i,u.buttons=u.buttons||[],u.buttons=u.buttons.filter(p=>p.action!=="pickSource");const f=i==="query-args"?o.getQueryExtendedArgument(u.name):o.getQueryFieldExtendedArgument(u.name);if(u.buttons=u.buttons.concat([{label:this.$t("Dynamic"),action:"essentialsPickQueryArgument",show:!f,origin:i}]),f){const p=new F(f,l);u.component={functional:!0,render:m=>m(p!=null&&p.composed?Or:tr,{props:{field:u,source:p},on:{remove(){i==="query-args"?o.removeQueryArgument(u.name):o.removeQueryFieldArgument(u.name)},compose(){const O=Je(p.values);i==="query-args"?o.setQueryExtendedArgument(u.name,O):o.setQueryFieldExtendedArgument(u.name,O)}}})}}}},priority:-5},evaluateExpression({origin:{$vnode:e,panel:r},params:s},n,i){var l,a;if((r==null?void 0:r.name)!=="yooessentials-source-query-args")return;const o=e.data.source;s[1]={...i,...((a=(l=o==null?void 0:o.values)==null?void 0:l.query)==null?void 0:a.arguments_extended)||{}}}}})}),Y.before("app.init",({extend:t})=>{t({events:{async essentialsPickQuery({origin:{node:e}},r,{target:s}){if(k.getProp(e,r))return;const i=await h.uikit.promptDropdown(Ue,{node:e,field:r},s,{flip:!1,classes:"yo-dropdown",boundaryX:s.closest(".yo-sidebar-fields > *")||s});i&&k.setProp(e,r,i)},async essentialsPickQueryArgument({origin:{$vnode:e,$parent:r}},s,{target:n}){var a;const i=(a=r==null?void 0:r.$parent)==null?void 0:a.node;if(!i)throw new Error("Node not found");const o=e.data.source,l=await h.uikit.promptDropdown(Ue,{field:s,node:i,omittedOptions:o.isNodeSource?["node"]:[]},n,{classes:"yo-dropdown",flip:!1,boundaryX:n.closest(".yo-sidebar-fields > *")||n});o&&(s.origin==="query-args"&&o.setQueryExtendedArgument(s.name,l),s.origin==="query-field-args"&&o.setQueryFieldExtendedArgument(s.name,l))}}})}),Y.before("app.init",({extend:t})=>{t({events:{statusIconsNode({origin:e,result:r=[]}){return uc(e.node)&&D(K(e.node),s=>{let n=h.builder.helpers.Source.hasInvalidSource({source:s},g.yoo.Builder);n==="empty-field"?n=!new F(s,e.node).fieldSchema:n==="empty-props"&&(n=!1),n&&r.push({component:_o,child:!0,error:!0})}),r}}})}),Y.after("app.init",()=>{const{Source:t}=h.builder.helpers;sc(t),rc(t),nc(t)});function rc(t){const e=t.getSourcePath.bind(t);t.getSourcePath=function(r,...s){var o,l;const n=k.globalKey;let i=e(r,...s);if(i!=null&&i.includes(n)){const a=Cr(i),u=g.helpers.Dynamic.getGlobalQuery(a);u&&(i=i.replace(`${n}${a}`,(l=(o=u==null?void 0:u.source)==null?void 0:o.query)==null?void 0:l.name))}return i}}function sc(t){const e=t.hasSource.bind(t);t.hasSource=function(r,...s){return e(r,...s)||Pr(r)}}function nc(t){const e=t.hasInvalidSource.bind(t);t.hasInvalidSource=function(r,s){const n=this.getQuery(r);let i=e(r,s);if(i==="empty-field"&&lc({name:n})){const o=Cr(n);return!g.helpers.Dynamic.getGlobalQuery(o)}return i==="empty-props"&&(Pr(r)||dc(r)||cc(r))?!1:i}}const K=t=>{var e,r,s,n;return{...(r=(e=t==null?void 0:t.source)==null?void 0:e.props)!=null?r:{},...(n=(s=t==null?void 0:t.source_extended)==null?void 0:s.props)!=null?n:{}}},ic=t=>t==null?void 0:t.query,oc=t=>{var e,r;return(r=(e=t==null?void 0:t.query)==null?void 0:e.field)==null?void 0:r.name},ac=t=>(t==null?void 0:t.name)&&!(t!=null&&t.query),pt=t=>{var e;return((e=t==null?void 0:t.query)==null?void 0:e.name)===k.nodeKey},Tr=t=>{var e;return((e=t==null?void 0:t.query)==null?void 0:e.name)===h.builder.helpers.Source.parentKey};function Cr(t){var e,r;return(r=(e=t.match(new RegExp(`${k.globalKey}(\\w{6})`)))==null?void 0:e[1])!=null?r:""}function lc(t){var e;return(e=t==null?void 0:t.name)==null?void 0:e.startsWith(k.globalKey)}function uc(t){return D(K(t),e=>ic(e))}function Pr(t){return D(K(t),e=>ac(e)||pt(e))}function cc(t){return D(K(t),oc)}function dc(t){const{Source:e}=h.builder.helpers,r=v.flattenChildren(t);return r.some((s,n)=>{var u,f;const i=K(s),o=r[n-1];if(e.getQuery(o||{}))return!1;let a;return(f=(u=s.source)==null?void 0:u.query)!=null&&f.arguments_extended&&(a=D(s.source.query.arguments_extended,pt),a=D(s.source.query.arguments_extended,Tr)),a||D(i,pt)||D(i,Tr)})}function D(t,e){return Object.values(t).some(r=>{var s,n,i,o,l;if(r!=null&&r.composed){const a=D(r.composed.sources||{},e),u=Object.values(r.composed.conditions||{}).some(f=>{var p;return(p=f.rules)==null?void 0:p.some(m=>D(K(m),e))});return a||u}return(s=r==null?void 0:r.query)!=null&&s.arguments_extended?D(r.query.arguments_extended,e):(i=(n=r==null?void 0:r.query)==null?void 0:n.arguments)!=null&&i.filters?r.query.arguments.filters.some(a=>D(K(a),e)):(l=(o=r==null?void 0:r.query)==null?void 0:o.arguments)!=null&&l.ordering?r.query.arguments.filters.some(a=>D(K(a),e)):e(r)})}var fc={name:"YooessentialsSourceQueryFieldDirective",inject:{$source:{default:null}},props:{field:Object,values:Object},render(t){var i;const{node:e}=this.$parent.$parent.$parent,r=new F((i=this.$source)!=null?i:e.source,e);if(!r.queryFieldSchema)return null;const{name:s,fields:n}=this.field;return t(ge.FieldsPanel,{props:{panel:{fields:n},values:r.getQueryFieldDirectiveArgs(s)},on:{change(o,{name:l}){r.setQueryFieldDirectiveArg(s,l,o)}},key:`directive-${r.query}-${r.queryField}`},[])}};Y.after("app.init",()=>{q.components.FieldSourceSelect=$r,q.components.FieldSourceQueryArgs=xr,q.components.FieldSourceFieldSelect=kr,q.components.FieldSourceFieldArgs=Sr,q.components.FieldSourceFieldDirective=fc,q.components.FieldSourceFieldDirectives=Fr}),c.component("yooessentials-global-queries",Ao),Object.assign(q.components,Ju),Y.before("app.init",({extend:t})=>{g.helpers.Source=k,g.helpers.Schema=y,g.helpers.Dynamic=new c(ho),g.helpers.makeSource=(e,r)=>new F(e,r),t({events:{openSourcePanel(e,r){this.$trigger("openPanel",{component:$o,heading:!1,...h.customizer.panels["yooessentials-source"],...r})}}})}),c.events.on("essentialsDynamicOptionMatchNode",({result:t},e,r)=>{var l,a,u;t=t||e;const s=((a=(l=g.yoo)==null?void 0:l.Sidebar)==null?void 0:a.stack)||[],n=(u=r==null?void 0:r.origin)==null?void 0:u.startsWith("query-args"),i=({name:f})=>f.startsWith("yooessentials-query-settings"),o=({name:f})=>f.startsWith("yooessentials-query-conditions");return(n||s.some(o))&&!s.some(i)?t.filter(f=>!["node"].includes(f.name)):t},-100),A.icon.add({"ye--dynamic":'<svg viewBox="0 0 10 11" xmlns="http://www.w3.org/2000/svg" width="10" height="11"><path fill="none" stroke="#000" d="M5,4.5c3,0,4.5-.84,4.5-2S8,.5,5,.5.5,1.34.5,2.5,2,4.5,5,4.5Z"></path><path fill="none" stroke="#000" d="M9.5,5C9.5,6.16,8,7.5,5,7.5S.5,6.65.5,5.5"></path><path fill="none" stroke="#000" d="M9.5,2.5v5c0,1.74-.36,3-4.5,3S.5,9.23.5,7.5v-5"></path></svg>',"ye--dynamic-n":'<svg viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg" width="11" height="11"><path fill="none" stroke="#a0a0a0" d="m5,4.5c3,0,4.5-.8,4.5-2S8,.5,5,.5.5,1.3.5,2.5s1.5,2,4.5,2Z" /><path fill="none" stroke="#a0a0a0" d="m.5,5.5c0,1.2,1.5,2,4.5,2h.5" /><path fill="none" stroke="#a0a0a0" d="m.5,2.5v5c0,1.7.4,3,4.5,3h.5" /><path fill="none" stroke="#a0a0a0" d="m9.5,2.5v2" /><polygon fill="#a0a0a0" points="11 6 11 11 10 11 8 7.67 8 11 7 11 7 6 8 6 10 9.33 10 6 11 6" /></svg>',"ye--composed-condition":'<svg viewBox="0 0 10 11" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" fill-rule="evenodd" clip-rule="evenodd"><path fill="none" stroke="#444" stroke-width="1.08" d="M5 10.394s4.011-1.92 4.011-5.253V2.837a8.426 8.426 0 0 1-2.005-.539A10.25 10.25 0 0 1 5 .794a10.25 10.25 0 0 1-2.006 1.504 8.426 8.426 0 0 1-2.005.539v2.304C.989 8.474 5 10.394 5 10.394Zm0-6.716v3.268"/></svg>',"ye--composed-calculation":'<svg viewBox="0 0 10 11" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" clip-rule="evenodd"><path fill="none" stroke="#444" stroke-width="18.65" d="M224 88c0-22.077-19.341-40-43.165-40H75.165C51.341 48 32 65.923 32 88v80c0 22.077 19.341 40 43.165 40h105.67C204.659 208 224 190.077 224 168V88Z" transform="matrix(0 .05205 -.05617 0 12.189 -1.165)"/><circle cx="104" cy="128" r="16" fill="#444" transform="matrix(.05543 0 0 .05167 -2.103 -1.114)"/><circle cx="152" cy="128" r="16" fill="#444" transform="matrix(.05543 0 0 .05167 -2.103 -1.114)"/><circle cx="104" cy="176" r="16" fill="#444" transform="matrix(.05543 0 0 .05167 -2.103 -1.114)"/><circle cx="152" cy="176" r="16" fill="#444" transform="matrix(.05543 0 0 .05167 -2.103 -1.114)"/><path fill="none" stroke="#444" stroke-width="20.64" d="M92 76h72" transform="matrix(.05543 0 0 .05167 -2.103 -1.114)"/></svg>',"ye--composed-fragment":'<svg viewBox="0 0 10 11" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" clip-rule="evenodd"><path fill="none" stroke="#444" stroke-width="18.65" d="M224 88c0-22.077-19.341-40-43.165-40H75.165C51.341 48 32 65.923 32 88v80c0 22.077 19.341 40 43.165 40h105.67C204.659 208 224 190.077 224 168V88Z" transform="matrix(0 .05205 -.05617 0 12.189 -1.165)"/><circle cx="104" cy="128" r="16" fill="#444" transform="matrix(.05543 0 0 .05167 -2.823 -1.114)"/><circle cx="104" cy="128" r="16" fill="#444" transform="matrix(.05543 0 0 .05167 -.765 -1.114)"/><circle cx="104" cy="128" r="16" fill="#444" transform="matrix(.05543 0 0 .05167 1.293 -1.114)"/></svg>',"ye--composed-fullscreen":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="80" height="80"><path d="M5 5h5V3H3v7h2zm5 14H5v-5H3v7h7zm11-5h-2v5h-5v2h7zm-2-4h2V3h-7v2h5z"></path></svg>',"ye--composed-fullscreen-exit":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="80" height="80"><path d="M10 4H8v4H4v2h6zM8 20h2v-6H4v2h4zm12-6h-6v6h2v-4h4zm0-6h-4V4h-2v6h6z"></path></svg>'})})(Vue,UIkit,yootheme,yootheme.hooks,yootheme.fields,yooessentials,yooessentials.util,UIkit.util,yooessentials.components,yooessentials.codemirror,{usePreviewStore:yootheme.store.usePreviewStore,FieldsPanel:Vue.component("fields-panel").extendOptions});
